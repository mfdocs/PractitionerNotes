<h2>OPC_NODENAME_FROM_NNM_FRWD_TRAP</h2><div><table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr style="mso-yfti-irow:0;mso-yfti-firstrow:yes;height:17.65pt">
  <td width="209" valign="top" style="width: 156.45pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt; height: 17.65pt;">
  <p class="Label"><b>Type</b><o:p></o:p></p>
  </td>
  <td width="458" valign="top" style="width: 343.4pt; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt; height: 17.65pt;">
  <p class="Label">Boolean<o:p></o:p></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:1;height:18.3pt">
  <td width="209" valign="top" style="width: 156.45pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt; height: 18.3pt;">
  <p class="Label"><b>Default Value</b><o:p></o:p></p>
  </td>
  <td width="458" valign="top" style="width: 343.4pt; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt; height: 18.3pt;">
  <p class="Label">False<o:p></o:p></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:2;height:17.65pt">
  <td width="209" valign="top" style="width: 156.45pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt; height: 17.65pt;">
  <p class="Label"><b>Class of the variable</b><o:p></o:p></p>
  </td>
  <td width="458" valign="top" style="width: 343.4pt; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt; height: 17.65pt;">
  <p class="Label">opctrapi<o:p></o:p></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:3;height:18.3pt">
  <td width="209" valign="top" style="width: 156.45pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt; height: 18.3pt;">
  <p class="Label"><b>Namespace </b><o:p></o:p></p>
  </td>
  <td width="458" valign="top" style="width: 343.4pt; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt; height: 18.3pt;">
  <p class="Label">eaagt.integration.nnm<o:p></o:p></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:4;height:24.2pt">
  <td width="209" valign="top" style="width: 156.45pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt; height: 24.2pt;">
  <p class="MsoNormal"><b>Restart Required</b><o:p></o:p></p>
  </td>
  <td width="458" valign="top" style="width: 343.4pt; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt; height: 24.2pt;">
  <p class="Label">No<o:p></o:p></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:5;height:24.2pt">
  <td width="209" valign="top" style="width: 156.45pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt; height: 24.2pt;">
  <p class="MsoNormal"><b>Introduced since&nbsp; </b><o:p></o:p></p>
  </td>
  <td width="458" valign="top" style="width: 343.4pt; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt; height: 24.2pt;">
  <p class="Label">11.14<o:p></o:p></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:6;height:24.2pt">
  <td width="209" valign="top" style="width: 156.45pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt; height: 24.2pt;">
  <p class="MsoNormal"><b>Applicable Platforms</b><o:p></o:p></p>
  </td>
  <td width="458" valign="top" style="width: 343.4pt; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt; height: 24.2pt;">
  <p class="Label">All<o:p></o:p></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:7;mso-yfti-lastrow:yes;height:24.2pt">
  <td width="209" valign="top" style="width: 156.45pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt; height: 24.2pt;">
  <p class="MsoNormal"><b>Related variables</b><o:p></o:p></p>
  </td>
  <td width="458" valign="top" style="width: 343.4pt; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt; height: 24.2pt;">
  <p class="Label">SNMP_SESSION_MODE<font color="rgba(0, 0, 0, 0)" face="Calibri, sans-serif"><span style="font-size: 11pt;"><o:p></o:p></span></font></p>
  </td>
 </tr>
</tbody></table></div><p class="MsoNormal"><o:p></o:p></p>

<h3 style="color: rgb(0, 0, 0); font-family: MetricHPE; text-transform: none;"><span style="font-weight: 700;">Short Description</span></h3><p class="MsoNormal">If OPC_NODENAME_FROM_NNM_FRWD_TRAP is set to TRUE, SNMP trap
interceptor searches each trap for the varbinds <o:p></o:p></p>

<p class="MsoNormal"></p><ul><li>.1.3.6.1.4.1.11.2.17.2.19.1.1.2.0</li><li>.1.3.6.1.4.1.11.2.17.2.19.1.1.3.0</li></ul><o:p></o:p><p></p>

<p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal">to set the source of any matched message.<o:p></o:p></p>

<h3><b>Long Description</b></h3><p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal">When events are forwarded from NNMi to the SNMP trap
interceptor (opctrapi), the trap interceptor maps message source to the trap’s
source field (agent-addr) which is the NNMi’s server name instead of actual
device or source the trap is referencing. Actual source details are available
in two additional varbinds:<o:p></o:p></p>

<p class="MsoNormal"></p><ul><li>.1.3.6.1.4.1.11.2.17.2.19.1.1.2.0 - represents the IP
address type which can be either IPV4 or IPV6.</li><li>.1.3.6.1.4.1.11.2.17.2.19.1.1.3.0 - represents the actual IP
address.</li></ul><o:p></o:p><p></p>

<p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal">If the two OIDs are found in the varbind list, the trap
interceptor sets the message source of the OM message to the hostname
represented by the value of OID .1.3.6.1.4.1.11.2.17.2.19.1.1.3.0.<o:p></o:p></p>

<p class="MsoNormal"><b>NOTE:</b> Use of OPC_NODENAME_FROM_NNM_FRWD_TRAP requires that
SNMP_SESSION_MODE be set to NETSNMP.<o:p></o:p></p><h2>OPC_SPLIT_NNM_CUSTOM_ATTR</h2><p class="MsoNormal"><o:p></o:p></p><table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="230" valign="top" style="width: 172.25pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Type</b></span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Boolean</span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Default Value</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">False<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Class of the
  variable</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">opctrapi<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Namespace </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">eaagt.integration.nnm<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Restart
  Required</b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">No<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Introduced since&nbsp;
  </b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">11.12<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Applicable
  Platforms</b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">All<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Related
  variables</b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span class="LabelChar"><span lang="EN-US" style="">OPC_SPLIT_NNM_CUSTOM_ATTR_MAX</span></span><span lang="EN-US" style="font-size: 12pt;"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><h3><b>Short Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">SNMP traps forwarded from NNMi which includes the varbind
(.1.3.6.1.4.1.11.2.17.19.2.2.20) listing the NNMi’s event’s “Custom Incident
Attributes(CIA)” in the form of a comma delimited list of NAME=VALUE pairs are
mapped to a single custom message attribute (CMA). Enabling
OPC_SPLIT_NNM_CUSTOM_ATTR will split the NAME=VALUE pairs into individual CMAs.<o:p></o:p></p><h3><b>Long Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">When NNMi forwards an SNMP trap, the trap includes a varbind
(.1.3.6.1.4.1.11.2.17.19.2.2.20) that lists the “Custom Incident
Attributes(CIA)” of the NNMi event in the form of a comma delimited list of
Name=Value pairs. By default this is mapped to a single custom message
attribute (CMA), nnmi.Incident.Cias, in an oa message.<o:p></o:p></p><p class="MsoNormal">For example:<o:p></o:p></p><p class="MsoNormal">nnm.Incident.cias =”SLA-Cia=Gold, Product-Cia=app1,
NAME3=VALUE3,…” <o:p></o:p></p><p class="MsoNormal">When OPC_SPLIT_NNM_CUSTOM_ATTR is set to TRUE, the SNMP trap
interceptor will access the separate the CIA list of NAME=VALUE pairs and represent
each individual CIA as a Custom Message Attribute (CMA) in the OM message. The
name of each CMA will be the NAME of the pair and the value will be the
respective VALUE. <o:p></o:p></p><p class="MsoNormal">For example if a trap matching a condition has the varbind
.1.3.6.1.4.1.11.2.17.19.2.2.20 with a value of .1.3.6.1.4.1.11.2.17.19.2.2.20
=”SLA-Cia=Gold, Product-Cia=app1, NAME3=VALUE3”<o:p></o:p></p><p class="MsoNormal">Would result in the following CMA=Value pairs:<o:p></o:p></p><p class="MsoNormal"></p><ul><li>SLA-CIA = Gold</li><li>Product-Cia = app1</li><li>NAME3 = VALUE3</li></ul><o:p></o:p><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">



























</p><p class="MsoNormal">The number of NAME=VALUE pairs split and mapped to
individual CMAs is controlled by the configuration variable
OPC_SPLIT_NNM_CUSTOM_ATTR_MAX.&nbsp;&nbsp; The
default value is 20.&nbsp; If there are more
than OPC_SPLIT_NNM_CUSTOM_ATTR_MAX pairs, they will be discarded (e.g. not
mapped to individual CMAs).<o:p></o:p></p><h2>SNMP_RECV_BUF</h2><p class="MsoNormal"><o:p></o:p></p><table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="230" valign="top" style="width: 172.25pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Type</b></span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Integer</span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Default Value</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">65536
  bytes<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Class of the
  variable</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">opctrapi<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Namespace </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">eaagt<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Restart
  Required</b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Yes<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Introduced since&nbsp;
  </b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">11.14
  <o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Applicable&nbsp; Platforms</b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">All<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Related
  variables</b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span class="LabelChar"><span lang="EN-US" style="">SNMP_SESSION_MODE</span></span><span lang="EN-US" style="font-size: 12pt;"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><h3><b>Short Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">Specifies the size of the buffer used by the Trap
Interceptor (opctrapi) to keep received SNMP traps until it can process them.<o:p></o:p></p><h3><b>Long Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">The trap interceptor (opctrapi) is a single-threaded
process. The single thread has to receive inbound traps, format it, evaluate
the formatted trap against all trap policy conditions and if there is a match
generate the message before passing it to opcmsga. In some scenarios, traps are
sent in large bursts to opctrapi where opctrapi may not be able to keep up with
the rate of inbound traps. This can cause inbound traps to be dropped.
SNMP_RECV_BUF creates a buffer of the specified size (in bytes) where inbound
traps can be stored until opctrapi has the resources to start processing them.<o:p></o:p></p><p class="MsoNormal">The value of SNMP_RECV_BUF must be incremented in multiples
of 64 KB (65536, 131072 and so on) and then choose a value that suits better.
Kernal udp buffer values have to be changed along with this config variable.<o:p></o:p></p><p class="MsoNormal">Network kernel parameters were set through below commands:<o:p></o:p></p><p class="MsoNormal"><span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;"><b>For Linux:</b></span><br></p><ul><li><span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">sysctl -w net.core.rmem_max=value</span></li><li><span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">sysctl -w net.core.rmem_default=value</span></li><li><span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">sysctl -w net.core.wmem_max=value</span></li></ul><o:p></o:p><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">To make the change permanent, add the following lines to the
/etc/sysctl.conf file, which is used during the boot process<o:p></o:p></p><p class="MsoNormal">For example in one of the customer case, for opctrapi to
handle 150 traps/per second without any issues/without any drops below values
were set:<o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"></p><ul><li>SNMP_RECV_BUF=524288 (512kb) and&nbsp;network kernel parameters were set through
sysctl command (for LINUX PLATFORM) to 32MB:</li><li>sysctl -w net.core.rmem_max='33554432' (32MB)</li><li>sysctl -w net.core.rmem_default='33554432' (32MB)</li><li>sysctl -w net.core.wmem_max='33554432' (32MB)</li></ul><o:p></o:p><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><b>For Solaris:</b><o:p></o:p></p><p class="MsoNormal"></p><ul><li>ndd -set /dev/udp udp_max_buf value<br>where, the recommendation for value is 8088608.</li></ul><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><b>For AIX:</b><o:p></o:p></p><p class="MsoNormal"></p><ul><li>no -o sb_max=value (AIX will only allow 1 megabyte, 4
megabytes or 8 megabytes).</li></ul><o:p></o:p><p></p><p class="MsoNormal"><b>For HP-UX:</b><o:p></o:p></p><p class="MsoNormal"></p><ul><li>ndd -set /dev/sockets socket_udp_rcvbuf_default value</li></ul><o:p></o:p><p></p><p class="MsoNormal">To make it permanent to survive a reboot you will need to
record the change in /etc/rc.config.d/nddconf<o:p></o:p></p><p class="MsoNormal"><b>For Windows:</b><o:p></o:p></p><p class="MsoNormal"></p><ul><li>Value set in registry: HKEY_LOCAL_MACHINE \SYSTEM
\CurrentControlSet\Services\Afd\Parameters \ DefaultReceiveWindow -&nbsp; value </li></ul><o:p></o:p><p></p><p class="MsoNormal">























































<span style="line-height: 107%;"><b>NOTE:</b> Use of SNMP_RECV_BUF requires that SNMP_SESSION_MODE
be set to NETSNMP.</span><br></p><h2>OPC_SEND_MAX_ONE_MSG_PER_TRAP</h2><p class="MsoNormal"><o:p></o:p></p><table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="178" valign="top" style="width: 133.5pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Type</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Boolean<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Default Value</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">&nbsp;FALSE<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Class of the variable<o:p></o:p></b></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">opctrapi<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Namespace </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">eaagt<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Restart Required</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">YES<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Introduced since&nbsp; </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">A.07.23<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Applicable Platforms</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">ALL<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Related variables</b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">NA<font face="Calibri, sans-serif"><span style="font-size: 12pt;"><o:p></o:p></span></font></span></p>
  </td>
 </tr>
</tbody></table><h3><b>Short Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">When multiple SNMP trap policies are deployed to a managed
node, each received trap is evaluated against all policies in a sequential
fashion. Setting OPC_SEND_MAX_ONE_MSG_PER_TRAP to TRUE will stop the processing of
that trap in other policies with the first successful match of a Send Message
on match type condition. <o:p></o:p></p><h3><b>Long Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">This configure variable used to increase the agent
performance, when customer knows matching first trap condition is okay to
process templates they will set this variable true.<o:p></o:p></p><p class="MsoNormal"><b>Impact</b><o:p></o:p></p><p class="MsoNormal"><b>Pros:-</b><o:p></o:p></p><p class="MsoNormal"></p><ul><li>The variable OPC_SEND_MAX_ONE_MSG_PER_TRAP if set to TRUE
makes opctrapi skips further processing of policies after one condition match
in one of the policies. This saves some valuable time as the default behavior
is that all policies will be traversed to check against all conditions even if
the first checked policy has already produced a successful match. </li><li>Speeds up processing </li><li>The benefit is improved agent performance as fewer policies
may need to be evaluated to generate a message</li><li>When multiple SNMP trap policies are deployed to a managed
node, each received trap is evaluated against all policies in a sequential
fashion. The first Send Message on Match condition type matched in each
deployed policy will generate a message to be forwarded to the management
server. By setting OPC_SEND_MAX_ONE_MSG_PER_TRAP to TRUE, processing of a trap
will stop with the first successful match of a Send Message on match type
condition. No other policies will be evaluated.</li></ul><o:p></o:p><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><b>Cons:-</b><o:p></o:p></p><p class="MsoNormal"><span style="line-height: 107%;">

























</span></p><p class="MsoNormal"></p><ul><li>This speeds up processing but may prevent some templates
from even 'looking' at the trap. As a result, fewer messages might be sent to
the server and the behavior of duplicate suppression for 'Suppress Messages
Matching Condition' may change.</li></ul><div><h2>SNMP_SESSION_MODE</h2><p class="MsoNormal"><o:p></o:p></p>

<table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="178" valign="top" style="width: 133.5pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Type</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">string </span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Default Value</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">NETSNMP<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Details"><span lang="EN-US" style=""><b>Class of the variable</b></span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">opctrapi<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Namespace
  </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">eaagt<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Restart Required</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">&nbsp; Yes only opctrapi need to be restart <o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Introduced since&nbsp; </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">OA 8.x<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Applicable Platforms</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">ALL<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Related variables</b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="font-size:12.0pt;line-height:107%;mso-bidi-font-family:ArialMT">NA</span><b><span style="font-size:12.0pt;line-height:
  107%"><o:p></o:p></span></b></p>
  </td>
 </tr>
</tbody></table>

<h3><b>Short Description</b></h3><p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal">Mode in which the trap interceptor opens a session. Value
NNM_LIBS can only be used with Windows to support SNMP V2 traps (NNM libraries
are used in this case).<o:p></o:p></p>

<p class="MsoNormal"><b>For IPV6</b><o:p></o:p></p>

<p class="MsoNormal">SNMP_SESSION_MODE Specifies the mode in which the trap
interceptor opens a session. The value NNM_LIBS can be used only with Windows
to support SNMP V2 traps (NNM libraries are used in this case). The value
NNM_PMD can be used only with UNIX agents to support trap Interceptor connecting
to NNM pmd. The value TRY_BOTH, tries both NNM_PMD and NO_TRAPD.<o:p></o:p></p>

<h3><b>Long Description</b></h3><p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal">The trap interceptor opens a session based on this setting.<o:p></o:p></p>

<p class="MsoNormal"><b>Behavior on Windows:</b><o:p></o:p></p>

<p class="MsoNormal"><ul><li>NETSNMP : The opctrapi process uses the Net-SNMP APIs to
bind to the port 162</li><li>WIN_SNMP: opctrapi subscribes to the Microsoft Trap Service.</li><li>NNM_LIBS: The opctrapi process uses the OVSNMP API and binds
to the port 162.</li></ul><o:p></o:p></p>

<p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal"><b>Behavior on Unix Systems:</b><o:p></o:p></p>

<p class="MsoNormal"><ul><li>NETSNMP: opctrapi uses the Net-SNMP APIs to bind to the port
162.</li><li>NO_TRAPD/NNM_LIBS:The opctrapi process uses the OVSNMP API
and binds to the port 162</li></ul><o:p></o:p></p>

<p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal"><b>Note the following:</b><o:p></o:p></p>

<p class="MsoNormal"><ul><li>On 12.0, we support on NETSNMP.</li><li>Historical modes of NNM_PMD and TRY_BOTH are not supported.</li></ul><o:p></o:p></p>

<p class="MsoNormal"><o:p></o:p></p></div><o:p></o:p><p></p>