<h2>OPC_BUFLIMIT_ENABLE</h2><p class="MsoNormal"><o:p></o:p></p>

<table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="178" valign="top" style="width: 133.5pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Type</b></span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Bool<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Default Value</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">FALSE<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Class of the variable</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">opcmsga<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Namespace </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">eaagt<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Restart Required</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">YES<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Introduced
  since&nbsp; </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">&gt; OA 8.60<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Applicable Platforms</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">All platforms<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Related variables</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">OPC_BUFLIMIT_SIZE,
  OPC_BUFLIMIT_SEVERITY<font face="Calibri, sans-serif"><span style="font-size: 12pt;"><o:p></o:p></span></font></span></p>
  </td>
 </tr>
</tbody></table>

<p class="MsoNormal"><b>Short Description </b><o:p></o:p></p>

<p class="MsoNormal">Enable/disable checking of the buffer file limit on the
agent node. Checks are applied on the msgagtdf file.<o:p></o:p></p>

<p class="MsoNormal"><b>Long Description </b><o:p></o:p></p>

<p class="MsoNormal">The msgagtdf is a buffer file used to store the processed
messages. If a manager is not reachable only the messages for that manager are
buffered in this file and the messages can still be sent to other reachable
target managers. So, messages are written into msgagtdf even when the agent is
not buffering.<o:p></o:p></p>

<p class="MsoNormal">The file grows when more messages are written in to the file
than the available area that can be overwritten. For example, consider that 7
messages were written into the file and were sent to the server. If in the next
interval 10 messages come, (assuming the size of each of the messages is
similar to earlier message), then 7 messages would be overwritten and 3 additional
messages will be added.<o:p></o:p></p>

<p class="MsoNormal">The variables OPC_BUFLIMIT_ENABLE, OPC_BUFLIMIT_SIZE to
limit the size of the buffer file.<o:p></o:p></p>

<p class="MsoNormal">The size of the buffer file is controlled with the variable
OPC_BUFLIMIT_SIZE which has a default value of 1000 i.e. 1000 kilobytes. When
OPC_BUFLIMIT_ENABLE is set to TRUE, the buffer size is not allowed grow more
than the defined OPC_BUFLIMIT_SIZE. Once the size limit is defined and there is
a situation when the file limit is reached, filled with valid unsent messages,
then OPC_BUFLIMIT_SEVERITY is used to overwrite the messages that are
lower/equal to the severity defined, and in the order of the severity (from low
to high severity).<o:p></o:p></p>

<p class="MsoNormal">When no more free entries are available, the message agent
will stop buffering data and all incoming messages are discarded from then
onwards.<o:p></o:p></p>

<p class="MsoNormal">For example, after a message is found to match against the
message rules and it was found that the target receiver is not reachable, then
the message is stored in the msgagtdf file and used for retry mechanism. <o:p></o:p></p>

<p class="MsoNormal">Another scenario would be if the opcmsga crashed or the
Agent Node was powered off while transferring the message to server, then the
message will be stored in the msgagtdf file. <o:p></o:p></p>

<p class="MsoNormal">In cases where the buffer size keeps growing fast,
OPC_BUFLIMIT_SIZE can be set to a higher value.<o:p></o:p></p>

<p class="MsoNormal">Below are the snippets from the file System.txt of a sample
Agent Node when the size limit for the buffer file is reached:<o:p></o:p></p>

<p class="MsoNormal"><ul><li>0: WRN: Tue May 08 02:33:29 2014: opcmsga (6304/4092):
[genmsga.c:1655]: Buffer files size limit of 1024000 bytes has been reached
with file size of 1030428 bytes. Removing messages with lower severity than the
specified severity. (OpC20-183)</li><li>0: WRN: Tue May 08 02:33:29 2014: opcmsga (6304/4092):
[genmsga.c:1661]: The buffering is now limited to messages with the specified
or a higher severity. (OpC20-185)</li><li>0: WRN: Tue May 08 02:33:29 2014: opcmsga (6304/4092):
[genmsga.c:1687]: Removing messages with lower severity from buffer file
successful. (OpC20-184)</li><li>0: WRN: Tue May 08 02:33:29 2014: opcmsga (6304/4092):
[genmsga.c:1614]: The message agent stopped buffering messages. All new
messages will be discarded. (OpC20-182)</li></ul><o:p></o:p></p>

<p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal"><o:p></o:p></p>