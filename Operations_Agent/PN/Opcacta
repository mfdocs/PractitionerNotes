<h2>OPC_PROC_ALWAYS_INTERACTIVE</h2><div><table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="178" valign="top" style="width: 133.5pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="Label"><b>Type<o:p></o:p></b></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label">String<o:p></o:p></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><b>Default Value</b><o:p></o:p></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label">ALWAYS<o:p></o:p></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><b>Class of the variable</b><o:p></o:p></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label">opcacta<o:p></o:p></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><b>Namespace </b><o:p></o:p></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label">eaagt<o:p></o:p></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><b>Restart Required</b><o:p></o:p></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label">Yes<o:p></o:p></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><b>Introduced since&nbsp; </b><o:p></o:p></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label">OA A.08.10<o:p></o:p></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><b>Applicable Platforms</b><o:p></o:p></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label">Windows<o:p></o:p></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><b>Related variables</b><o:p></o:p></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label">OPC_WIN_UAC_ENABLE<font color="rgba(0, 0, 0, 0)" face="Calibri, sans-serif"><span style="font-size: 11pt;"><o:p></o:p></span></font></p>
  </td>
 </tr>
</tbody></table></div><h3 style=""><b>Short Description</b></h3><p class="MsoNormal">OPC_PROC_ALWAYS_INTERACTIVE specifies how the Windows agent
starts processes for all the agent subagent processes which can execute an
action (auto-, operator-initiated-, scheduled) since some processes may hang
when they are started with access to the default desktop (Administrator).&nbsp;</p>

<h3><b>Long Description</b></h3><p class="MsoNormal"><b><o:p></o:p></b></p>

<p class="MsoNormal">This configuration variable specifies how the Windows agent
starts processes which can execute an action (auto-, operator-initiated-,
scheduled). <o:p></o:p></p>

<p class="MsoNormal">Sub-agent processes that can be impacted with this variable
are:<o:p></o:p></p>

<p class="MsoNormal"></p><ul><li>Logfile Encapsulate (opcle)</li><li>Measurement Threshold (opcmona)</li><li>Open Message Interface (opcmsgi)</li><li>Schedule Task (opcacta)</li><li>SNMP Interceptor (opctrapi)</li><li>Windows Management Interface (WMI)&nbsp;</li></ul><p></p>

<p class="MsoNormal">When Agent is running in non-root mode, some processes may
hang when they are started with access to the default desktop (Administrator),
we can set this variable with Values based on the condition. For example, when
user has non-Administrator (has admin privileges), or when system is enabled
with UAC (User Access Control) enabled or when actions are getting executed
with Domain User accounts,&nbsp; then using
this variables would specify how agent starts processes.<o:p></o:p></p>

<p class="MsoNormal">For example, this variable specifies how the agent starts
processes when an agent is running as a non-Administrator user(with admin
privileges) or the system has UAC (User Access Control) enabled or when actions
are being executed by Domain User accounts.<o:p></o:p></p>

<p class="MsoNormal"><b>Values: </b><o:p></o:p></p>

<p class="MsoNormal"></p><ul><li>ALWAYS - Processes started by the OVO agent always set the
WinSta0/Default desktop, no matter whether there is somebody logged in or not.</li><li>NEVER - Processes started by the OVO agent do not have
access to the default desktop.</li><li>AUTO - Before starting sub-processes, the OVO Agent tries to
determine whether somebody is logged on to the default desktop. If so, started
sub-processes use the default desktop, otherwise not.</li><li>TRUE - For backward compatibility of ALWAYS flag (same as
ALWAYS flag).</li><li>FALSE - For backward compatibility of AUTO flag (same as
AUTO flag).&nbsp;</li></ul>

<p class="MsoNormal"><b><br></b></p><p class="MsoNormal"><b>Note:</b> It may be necessary to change the value of this flag
under the following circumstances:<o:p></o:p></p>

<p class="MsoNormal"></p><ul><li>The OVO Agent is not running as SYSTEM or a user who is
member of the Administrators group.</li><li>The Agent has administrative capabilities but starts
processes under another identity (using the OVO switch-user feature).&nbsp;</li></ul><p></p>

<p class="MsoNormal">If this variable value is set to NEVER, you will not be able
to start interactive applications (e.g. open a GUI such as Notepad). If
starting interactive applications is desirable (e.g. if the Windows managed
node is used at the same time for the OVO/Windows Console or the OVO/UX Java
GUI) then set to ALWAYS or leave the variable unset to use the default value of
ALWAYS.<span style="background-color: transparent; font-size: inherit; letter-spacing: 0.2px;">&nbsp;</span></p>

<p class="MsoNormal">If experiencing one of the following problems, try to set
the variable to NEVER:<o:p></o:p></p>

<p class="MsoNormal"></p><ul><li>Started agent processes hang (which is specified above).</li><li>Started processes pop up an error dialog reporting error
0xc0000142 "The application failed to initialize properly".</li><li>The process starts but does not produce any output.&nbsp;</li></ul><o:p></o:p><p></p>

<p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal"><o:p></o:p></p>



<p class="MsoNormal">OPC_WIN_UAC_ENABLE is the related configuration variable
that can be used along with OPC_PROC_ALWAYS_INTERACTIVE configuration variable
if UAC is enabled on the system. You can refer OPC_WIN_UAC_ENABLE configuration
variable section for more details.<o:p></o:p></p><h2>OPC_WIN_UAC_ENABLE</h2><div><table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="178" valign="top" style="width: 133.5pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span lang="EN-US" style="line-height: 107%;"><b>Type<o:p></o:p></b></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Bool</span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span lang="EN-US" style="line-height: 107%;"><b>Default Value</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">FALSE<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span lang="EN-US" style="line-height: 107%;"><b>Class of the variable<o:p></o:p></b></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">opcacta<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span lang="EN-US" style="line-height: 107%;"><b>Namespace </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">eaagt<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span lang="EN-US" style="line-height: 107%;"><b>Restart Required</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Yes<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span lang="EN-US" style="line-height: 107%;"><b>Introduced since&nbsp; </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">OA A.08.60<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span lang="EN-US" style="line-height: 107%;"><b>Applicable Platforms</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Windows<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span lang="EN-US" style="line-height: 107%;"><b>Related variables</b></span><span lang="EN-US" style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">OPC_PROC_ALWAYS_INTERACTIVE</span><span lang="EN-US" style="font-size: 12pt; font-family: Calibri, sans-serif;"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table></div><p class="MsoNormal"><o:p></o:p></p><h3 style=""><b>Short Description</b></h3><p class="MsoNormal">OPC_WIN_UAC_ENABLE configuration variable is used when UAC
(User Access Control) is enabled on the system and Agent User is running as
non-Administrator and part of Administrator group. When this variable is set to
TRUE, the agent will elevate the user and assign the administrative privilege
with complete access, if the user is part of administrative group and UAC is
enabled on the system.<o:p></o:p></p><h3><b>Long Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">OPC_WIN_UAC_ENABLE configuration variable is used when UAC
(User Access Control) is enabled on the windows system and Operations Agent is
running as non-Administrator. For example, when an agent is running as
non-Administrator user and executing some action (auto, operator initiated Or
Scheduled), this variable will be used when User Access Control is enabled on
the system.&nbsp; <o:p></o:p></p><p class="MsoNormal">User Account Control (UAC) is a feature in Windows that can
help you stay in control of your computer by informing you when a program makes
a change that requires Administrator-level permission. UAC works by adjusting
the permission level of your user account.<o:p></o:p></p><p class="MsoNormal">Below is the list of sub-agents (processes) which can
impact with this variable:<o:p></o:p></p><p class="MsoNormal"></p><ul><li>Logfile Encapsulate (opcle)</li><li>Measurement Threshold (opcmona)</li><li>Open Message Interface (opcmsgi)</li><li>Schedule Task (opcacta)</li><li>SNMP Interceptor (opctrapi)</li><li>Windows Management Interface (WMI)</li></ul><o:p></o:p><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">If the value of OPC_WIN_UAC_ENABLE is TRUE, agent will
elevate the user and assign the administrative token with complete access when
the user is part of administrative group and UAC is enabled on the system. This
will help user to launch the process with administrative privilege like
launching a process on a node using OMW tools. This flag should be set to
"TRUE" only if UAC is enabled on the system.<o:p></o:p></p><p class="MsoNormal">This configuration variable is used with sub agent which has
actions to perform (auto-, operator initiated-, scheduled action- and action
from OM tools).<o:p></o:p></p><p class="MsoNormal">If OPC_WIN_UAC_ENABLE variable is set to TRUE, then agent
will set the LOGON type internally to LOGON32_LOGON_BATCH (This logon type is
intended for batch servers, where processes may be executing on behalf of a
user without their direct intervention. This type is also for higher
performance servers that process many plaintext authentication attempts at a
time, such as mail or web servers.)<o:p></o:p></p><p class="MsoNormal">If OPC_WIN_UAC_ENABLE variable is set to FALSE, then agent
will set the LOGON type internally to LOGON32_LOGON_INTERACTIVE. (This logon
type is intended for users who will be interactively using the computer, such
as a user being logged on by a terminal server, remote shell, or similar
process. This logon type has the additional expense of caching logon
information for disconnected operations; therefore, it is inappropriate for
some client/server applications, such as a mail server.) <o:p></o:p></p><p class="MsoNormal">



































</p><p class="MsoNormal">OPC_PROC_ALWAYS_INTERACTIVE is the related configuration
variable that can be used along with OPC_WIN_UAC_ENABLE configuration variable
if UAC is enabled and Operations agent is running as non-administrator user on
the system. You can refer OPC_PROC_ALWAYS_INTERACTIVE configuration variable
section for more details.<o:p></o:p></p><h2>OPC_NO_SHELL_TO_EXEC_ACTION</h2><p class="MsoNormal"><o:p></o:p></p><table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="178" valign="top" style="width: 133.5pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Type</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Bool</span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Default Value</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">FALSE<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Class of the variable</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">opcacta<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Namespace </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">eaagt<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><b><span style="line-height: 107%;">Restart </span><span style="line-height: 107%;">Required</span></b><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Yes<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Introduced since&nbsp; </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">OA A.06.0<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Applicable Platforms</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">UNIX<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Related variables</b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;">OPC_KILL_AUTO_ACTION<span style="font-size: 12pt;"><o:p></o:p></span></span></p>
  </td>
 </tr>
</tbody></table><h3><b>Short Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">This variable controls how opcacta will execute automatic
and operator actions. By default opcacta executes automatic and operator
actions in a shell. By setting to TRUE, actions will be performed directly with
fork() and exec().<o:p></o:p></p><h3><b>Long Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">By default, the Operations Agent executes auto- and operator
initiated actions on UNIX in a separate shell interpreter. When this variable
is set to TRUE, all actions are executed directly with fork () / exec () system
calls. The exec () system call would replaces the current shell process with
the command/action specified after exec. This command does not create a new
PID. For example, if you were to run exec &lt;command&gt;, the shell would be replaced
by that command. When that command is exited, the shell will exit. The Exec ()
executes a program from within a program and it won’t create a separate SHELL
to execute the action.<o:p></o:p></p><p class="MsoNormal">As OA runs automatic and operator-initiated actions on UNIX
in a shell, sometimes, the problem could be with the shell instead of the
actions itself (e.g. some command in the profile waiting on stdin). In this
case it is suggested to use the variable OPC_NO_SHELL_TO_EXEC_ACTION in
namespace eaagt, to launch all actions directly with the fork () or exec ()
system calls.<o:p></o:p></p><p class="MsoNormal">













</p><p class="MsoNormal">Setting OPC_NO_SHELL_TO_EXEC_ACTION to TRUE is required when
enabling OPC_KILL_AUTO_ACTION (since the actual behavior for how auto actions
are killed would be described in OPC_KILL_AUTO_ACTION). For Example: If killing
for automatic actions is enabled every time an action should be started, the
action agent checks if its action queue contains already 10 actions. If so, it
checks if the action running for the longest time runs longer than the
predefined time out. If this is the case it kills this action. This works only
with OPC_NO_SHELL_TO_EXEC_ACTION TRUE on Unix platform.<o:p></o:p></p><h2>MAX_NBR_PARALLEL_ACTIONS</h2><p class="MsoNormal"><o:p></o:p></p><table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="230" valign="top" style="width: 172.25pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Type</b></span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">integer</span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Default Value</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">25<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Class&nbsp; of the variable</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">opcacta<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Namespace </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">eaagt<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Restart
  Required</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">No<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Introduced since&nbsp;
  </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Legacy<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Applicable
  Platforms</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">All<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Related
  variables<font face="Calibri Light, sans-serif"><span style="font-size: 12pt;"><o:p></o:p></span></font></b></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span class="LabelChar"><span lang="EN-US" style="font-size: 12pt;">LIMIT_NBR_PARALLEL_ACTION</span></span><span lang="EN-US" style="font-size: 12pt;"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><h3><b>Short Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">The Action Agent, opcacta limits the maximum number of
automatic actions that can be executed in parallel, by default 25. The maximum
number of parallel actions can be changed by setting MAX_NBR_PARALLEL_ACTIONS.
When any new action execution request is received opcacta waits until a slot is
obtained in proc-info table. <o:p></o:p></p><h3><b>Long Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">The action agent (opcacta) maintains an internal table to
track the actions it executes known as the process table. It contains details
of each process such as pid, string to be executed, start time, end time,
process status, etc. A fixed number of entries or “slots”, controlled by
MAX_NBR_PARALLEL_ACTION, in the table are used to track automatic actions (25
by default). When opcacta tries to start a process after there are already the
max number running a “no free slot in process-info-table” error is generated.<o:p></o:p></p><p class="MsoNormal">For example:<o:p></o:p></p><p class="MsoNormal">0: WRN: Tue May 10 14:47:32 2016: opcacta
(20794/139666129909536): [uxproc.c:438]: no free slot in process-info-table
(OpC20-401)<o:p></o:p></p><p class="MsoNormal">This would be an indicator that one may need to set
MAX_NBR_PARALLEL_ACTIONS may need to be changed for the specific environment.<o:p></o:p></p><p class="MsoNormal">Other reasons this variable might need to be set are the
following:<o:p></o:p></p><p class="MsoNormal"></p><ul><li>Other frequent chances where the issue occurs is SIGCHLD
miss by opcacta. SIGCHLD is sent by child process to parent when it completes
execution.</li><li>As signals are missed by opcacta the status of running auto
actions does not get updated as finished. This results in the proc-info table
slots getting filled fast despite the number of auto actions being executed is
less than the value mentioned in MAX_NBR_PARALLEL_ACTIONS.</li><li>Another common use case is when too many SIGCHLDs are
returned at same time but opcacta receives just one SIGCHLD. This results in
opcacta just updating the status of 1 child process as finished.</li></ul><span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">On Windows nodes, due to OS limitations, the maximum allowed
value is 30. If a value of greater is
set (e.g. 35) then the value set to 30.</span><br><o:p></o:p><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">The max number of process to be spawned in linux is limited
to value set in kernel parameter kernel.pid_max.<o:p></o:p></p><p class="MsoNormal">The max number of process to be spawned in solaris is
limited to value set in kernel parameter max_nprocs<o:p></o:p></p><p class="MsoNormal">The max number of process to be spawned in hp-ux is limited
to value set in kernel parameter nproc<o:p></o:p></p><p class="MsoNormal">The max number of process to be spawned in aix is limited to
value set in kernel maxuproc<o:p></o:p></p><p class="MsoNormal">The max number of action limit is applicable only auto
actions alone not for operator initiated actions or scheduled actions<o:p></o:p></p><p class="MsoNormal">Process table can be broadly divided into two sections<o:p></o:p></p><p class="MsoNormal"></p><ul><li>Limited section </li><li>Expandable section</li></ul><o:p></o:p><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">Limited section has fixed number of slots. Automatic actions
usually get index of these slots.<o:p></o:p></p><p class="MsoNormal">Expandable section has slots that can be increased upto to
the Max limit of the OS.<o:p></o:p></p><p class="MsoNormal">Operator-initiated and schedule run as NO_LIMIT process and
in this expandable section<o:p></o:p></p><p class="MsoNormal">The no free slot error is only seen in environments where
there are good amount of long running auto actions and the count of the same
exceed the value of MAX_NBR_PARALLEL_ACTIONS.<o:p></o:p></p><p class="MsoNormal">Other frequent chances where the issue occurs is SIGCHLD
miss by opcacta. SIGCHLD is sent by child process to parent when it completes
execution.<o:p></o:p></p><p class="MsoNormal">As signals are missed by opcacta the status of running auto
actions does not get updated as finished. This results in the proc-info table
slots getting filled fast despite the number of auto actions being executed is
less than the value mentioned in MAX_NBR_PARALLEL_ACTIONS<o:p></o:p></p><p class="MsoNormal">Another common use case is when too many SIGCHLDs are
returned at same time but opcacta receives just one SIGCHLD. This results in
opcacta just updating the status of 1 child process as finished<o:p></o:p></p><p class="MsoNormal">Proc-info table is an internal data structure maintained by
opcacta akin to OS process table. It contains details of the process like pid,
group, string to be executed, start time, end time, process status and so on.<o:p></o:p></p><p class="MsoNormal">Following are common status of slots in proc-info table of
opcacta<o:p></o:p></p><p class="MsoNormal"></p><ul><li>CSM_C_PROC_FREE</li><li>CSM_C_PROC_RUNNING</li><li>CSM_C_PROC_FINISHED</li><li>CSM_C_PROC_RESERVED</li><li>CSM_C_PROC_KILLED</li></ul><o:p></o:p><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">Logic to determine the free slot entry in the proc-info
table is as follows<o:p></o:p></p><p class="MsoNormal">If number of processes which are in the state
CSM_C_PROC_RUNNING exceeds the value MAX_NBR_PARALLEL_ACTIONS then the
following error gets logged in System.txt<o:p></o:p></p><p class="MsoNormal">0: WRN: Tue May 10 14:47:32 2016: opcacta
(20794/139666129909536): [uxproc.c:438]: no free slot in process-info-table
(OpC20-401)<o:p></o:p></p><p class="MsoNormal">When opcacta can’t obtain a free slot in the proc-info table
this is the flow<o:p></o:p></p><p class="MsoNormal">+++begin++++<o:p></o:p></p><p class="MsoNormal">For errors(CSM_MSG_PROC_NO_SLOT| CSM_MSG_PROC_TBL_FULL|
CSM_MSG_PROC_NO_MEM| CSM_MSG_PROC_FORK_FAIL)<o:p></o:p></p><p class="MsoNormal">{<o:p></o:p></p><p class="MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Increment
the failed count<o:p></o:p></p><p class="MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If ( action
start fail count exceeds 10 )<o:p></o:p></p><p class="MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></p><p class="MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Log
error message<o:p></o:p></p><p class="MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></p><p class="MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Check for the
status of already running auto actions<o:p></o:p></p><p class="MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sleep(2);<o:p></o:p></p><p class="MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp; break;<o:p></o:p></p><p class="MsoNormal">+++end++++<o:p></o:p></p><p class="MsoNormal">More details on the proc-info table manipulation by opcacta
on reception of SIGCHLD in unix environment is as follows. This also covers the
details of the scenarios on how we handle the processes in proc-info table when
SIGCHLD is missed<o:p></o:p></p><p class="MsoNormal">When opcacta spawns a child process to execute the auto
action these are the flow. This is after a free slot is obtained in proc-info
table to execute the action<o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"></p><ol><li>Mark the obtained slot as reserved (CSM_C_PROC_RESERVED),
assign execute string, parent handler, child handler</li><ol><li>Initialize the semaphore</li><li>Increment and signal the semaphore</li><li>Fork()/spawn the child process</li><li>In parent process the following actions take place</li><ol><li>Mark the slot in proc-info table as CSM_C_PROC_RUNNING</li><li>Update the start time of process</li><li>And the pid</li><li>Release a semaphore; now, child knows that init is done</li><li>Waiting for child to terminate</li><li>On some systems it has been observed that SIGCHLD handler
does not properly handle waitpid(). If a child process becomes a zombie /
defunct, the following loop will loop forever. In order to prevent this, we
implemented a timer for checking the status of a currently running child.</li><li>Init defunct_counter to 0</li><li>Fetch the value of the config variable OPC_LE_CMD_WAIT_TIME</li><li>While the process status is running or discard</li><ol><li>Sleep 1 second</li><li>Increment the defunct_counter</li><li>If the defunct_counter value equals OPC_LE_CMD_WAIT_TIME
kill the pid</li><li>Process has either finished and we didn't catch SIGCHLD
(kill_status = -1), or it has become a zombie and we have killed it using
waitpid() above</li><li>Now we do the work of SIGCHLD handler we set exit code to 0
since we don't know the real one the same applies to exit_time (p-&gt;status =
CSM_C_PROC_FINISHED;p-&gt;exit_code = 0;p-&gt;exit_time = time( (time_t *)NULL
);)</li><li>The counter for the current number of running actions is
decremented if there is a limit set for the max number of parallel action</li><li>If defined the parent handler is invoked</li></ol></ol></ol><li>When SIGCHLD is received from child process the following
handling takes place in signal handler registered</li></ol><o:p></o:p><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"></p><ul><li>Solaris or Aix<br>For each element in ptbl</li></ul><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"></p><ol><ol><li>If the status of the process is CSM_C_PROC_RUNNING or
CSM_C_PROC_DISCARD</li><li>Waitpid invoked on each slot pid</li><li>If waitpid returned non zero</li><ol><li>If status is CSM_C_PROC_DISCARD (discard_child =
CSM_C_PROC_DISCARD)</li><li>Else (Status updated to finished, end time updated, exit
code update)</li><li>Reduce the current number of running actions</li><li>Invoke parent handler if defined</li></ol></ol></ol><o:p></o:p><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"></p><ul><li>HPUX</li></ul><o:p></o:p><p></p><p class="MsoNormal"></p><ol><ol><li>If process was not stated via uxproc - there is no
information about that process in ptbl. We can get pid of process sending
SIGCHLD via siginfo_t structure (in sigaction sa_flags = SA_SIGINFO must be
set.</li><li>Struct with stored information about processes, which are
not in ptbl, but their's signal was caught in our code.
csm_st_pid_lst(csm_st_lst chld_pid,csm_st_lst signal_time)</li><li>Retrieve the current time</li><li>Allocate memory for csm_st_pid_lst</li><li>Siginfo structure contains the pid of the child which sent
SIGCHLD</li><li>For each entry in the proc-info table</li><ol><li>If status is CSM_C_PROC_RUNNING|CSM_C_PROC_DISCARD</li><li>Do waitpid on pid</li><li>If process exited if status is discard child it is ignored</li><li>Then the status is updated as CSM_C_PROC_FINISHED, update
exit code, end time in the proc-info table</li><li>If there is limit to number of parallel automatic actions
the counter to decrement the current parallel running actions is reduced</li><li>Parent handler call back is invoked if defined</li></ol></ol></ol><o:p></o:p><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"></p><ul><li>LINUX</li></ul><o:p></o:p><p></p><p class="MsoNormal"></p><ol><li>For 0 to 256 (LINUX_PIDTABLE_SIZE)</li><ol><li>If linux_waitpid[counter].pid is not -1, - F<span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">or each entry in ptbl, i</span><span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">f pid matches with linux_waitpid</span></li><ol><li>For process to be discarded the flow is same as with other
OS</li><li>The exit code picked from linux_waitpid array, status
updated to finished, exit time updated</li><li>Parent handler callback invoked if defined</li></ol></ol><li>For each element in p_pid_lst</li><ol><li>Check if ch_pid is already in the list and the time since
the reception of SIGCHLD</li><li>If the SIGCHLD reception is more than 5 second old</li><li>Do waitpid on that pid and delete ch_pid from p_pid_lst</li></ol><li>If ch_pid is not found in ptbl and external ptbl, append element to p_pid_lst</li><li>Periodically cleanup proc-info table (??)</li><ol><li>Loop through the proc-info table</li><li>Call waitpid on the each process having status running</li><li>For process to be discarded the flow is same as with other
OS</li><li>The exit code, exit time updated</li><li>Parent handler callback invoked if defined</li></ol></ol><p></p><p class="MsoNormal"><span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">3. Periodic cleanup of proc-info table. Every 10 minutes the
following task happens on linux</span></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">This operation is done to ensure that proc-info table slots
for the SIGCHLD miss scenarios is cleaned up.&nbsp;<span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">In windows, only max 30 actions will be executed in parallel
by opcacta.</span></p><h2>LIMIT_NBR_PARALLEL_ACTION</h2><p class="MsoNormal"><o:p></o:p></p><table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="230" valign="top" style="width: 172.25pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Type</b></span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Boolean</span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Default Value</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">FALSE<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Class of the
  variable</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Opcacta<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Namespace </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Eaagt<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Restart
  Required</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">No<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Introduced since&nbsp;
  </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Legacy<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Applicable
  Platforms</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">UNIX<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="230" valign="top" style="width: 172.25pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Related
  variables</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span class="LabelChar"><span lang="EN-US" style="">MAX_NBR_PARALLEL_ACTIONS,
  OPC_AUTO_SEM_RETRY_CHK_SECS,<o:p></o:p></span></span></p>
  <p class="Label"><span class="LabelChar"><span lang="EN-US" style="">OPC_LE_CMD_WAIT_TIME</span></span><span lang="EN-US" style="font-size: 12pt;"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><h3><b>Short Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">LIMIT_NBR_PARALLEL_ACTION coupled with
MAX_NBR_PARALLEL_ACTIONS limits the number of auto actions executed in parallel
by opcacta. This is not used in windows platform.<o:p></o:p></p><p class="MsoNormal">In unix platform when this config variable is set to TRUE
the counter maintaining the current number of actions executing in parallel is
incremented for every new action executed.<o:p></o:p></p><p class="MsoNormal">For every action whose execution is finished the counter
gets decremented.<o:p></o:p></p><p class="MsoNormal">When a new action is to be executed this counter value is
compared against MAX_NBR_PARALLEL_ACTIONS when the value exceeds the no slot
error message is logged in System.txt and the opcacta waits for the slot before
executing the action<o:p></o:p></p><h3><b>Long Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">Flow is as follows:<o:p></o:p></p><p class="MsoNormal"></p><ol><li>For the scheduled actions send start message if configured
in policy before actual action being executed</li><li>Fetch the value of config variable
OPC_AUTO_SEM_RETRY_CHK_SECS</li><li>/*parse the username and command to be executed from the
action_call and scheduled action*/<br>/action_call is of form &lt;user&gt;/|&lt;encrypted
passwd&gt; &lt;command&gt; i.e. root/|Q####iJ@w whoami*/</li><li>Fetch the value of config variable
OPC_AUTO_SEM_RETRY_CHK_SECS</li><li>Then action is executed via the following flow</li><ol><li>Register signal handler for handling SIGCHLD signals when
the child processes exit</li><li>Find a free slot in proc-info table via the following flow</li><ol><li>Ptble length in windows (MAXIMUM_WAIT_OBJECTS - 2)</li><li>Ptble length in unix(nbr_limited + CSM_C_PROC_NO_LIMIT_MAX)</li><li>For each element in ptble until the length do the allocation
and mark the slot as CSM_C_PROC_FREE. This is when the ptble is created for the
first time</li><li>On Unix, the entry for the processes with flag
CSM_C_PROC_NO_LIMIT are created in the expandable part of the proc table, and
the entry for the 'LIMITED' processes are created only in the first nbr_limited
number of proc table entries.&nbsp; But on
windows, the size of the proc table is restricted to MAXIMUM_WAIT_OBJECTS -
2.&nbsp; So, if the value of nbr_limited is on
the higher side, then it means that only MAXIMUM_WAIT_OBJECTS - 2 - nbr_limited
proc table entries are available for the processes with flag
CSM_C_PROC_NO_LIMIT, whereas there are nbr_limited entries kept reserved for
the 'LIMITED' processes, thereby giving them a preferential reservation instead
of the intended restriction.&nbsp; As part of
fixing QCCR1A101726, on Windows, the 'NO LIMIT' processes uses first
available&nbsp; free slot in the entire proc
table, whereas the 'LIMITED' processes looks for a free slot&nbsp; only in the last nbr_limited entries of the
proc table, thereby giving more priority to&nbsp;
the 'NO LIMIT' processes and actually restricting the 'LIMITED'
processes.</li><li>If the free slot is obtained the index is returned</li><li>If the action to be executed has this flag set
CSM_C_PROC_NO_LIMIT then when non free slot obtained in proc-info table then
realloc is done and the proc-info table size expanded</li><li>In Unix environments the ptble is from nbr_limited to
proc-info table length</li><li>For the processes which are allowed only limited set of
slots</li><ol><li>UNIX: index goes from 0 to nbr_limited (first nbr_limited
slots), WINDOWS : index goes from len - nbr_limited to len (last nbr_limited
slots)</li><li>If slot not obtained no slot error returned</li></ol></ol><li>Mark the obtained slot as reserved (CSM_C_PROC_RESERVED),
assign execute string, parent handler, child handler</li><li>Initialize the semaphore</li><li>Increment and signal the semaphore</li><li>Fork()/spawn the child process</li><li>In parent process the following actions take place</li><ol><li><span style="background-color: transparent; font-size: inherit; letter-spacing: 0.2px;">Mark the slot in proc-info table as CSM_C_PROC_RUNNING</span></li><li><span style="background-color: transparent; font-size: inherit; letter-spacing: 0.2px;">Update the start time of process</span></li><li><span style="background-color: transparent; font-size: inherit; letter-spacing: 0.2px;">And the pid</span></li><li><span style="background-color: transparent; font-size: inherit; letter-spacing: 0.2px;">Release a semaphore; now, child knows that init is done</span></li><li><span style="background-color: transparent; font-size: inherit; letter-spacing: 0.2px;">Waiting for child to terminate</span></li><li><span style="background-color: transparent; font-size: inherit; letter-spacing: 0.2px;">On some systems it has been observed that SIGCHLD handler
does not properly handle waitpid(). If a child process becomes a zombie /
defunct, the following loop will loop forever. In order to prevent this, we
implemented a timer for checking the status of a currently running child.</span></li><li><span style="background-color: transparent; font-size: inherit; letter-spacing: 0.2px;">Init defunct_counter to 0</span></li><li><span style="background-color: transparent; font-size: inherit; letter-spacing: 0.2px;">Fetch the value of the config variable OPC_LE_CMD_WAIT_TIME</span></li><li><span style="background-color: transparent; font-size: inherit; letter-spacing: 0.2px;">While the process status is running or discard</span></li><ol><li>Sleep 1 second</li><li>Increment the defunct_counter</li><li>If the defunct_counter value equals OPC_LE_CMD_WAIT_TIME
kill the pid</li><li>process has either finished and we didn't catch SIGCHLD
(kill_status = -1), or it has become a zombie and we have killed it using
waitpid() above</li><li>Now we do the work of SIGCHLD handler (csm_pb_proc_sighdl())
we set exit code to 0 since we don't know the real one the same applies to
exit_time (p-&gt;status = CSM_C_PROC_FINISHED;p-&gt;exit_code =
0;p-&gt;exit_time = time( (time_t *)NULL );)</li><li>The counter for the current number of running actions is
decremented if there is a limit set for the max number of parallel action</li><li>If defined the parent handler is invoked</li></ol></ol><li>In child process the following actions take place</li><ol><li>Child process waits for semaphore release by the parent
process as it cannot execute the command until parent adds the pid info of
child process in proc-info table. If this is not done opcacta will lose track
of the process details which was spawned and executed.</li><li>Invoke the child function handler to perform the basic
initialization.</li><li>Flags: CSM_C_PROC_NO_SHELL is set = start exec_str
directly;(option is ignored if CSM_C_PROC_SU_WITH_ENV, cause profile is to
execute);if flag is not set, program is executed via shell; CSM_C_PROC_SU is
set = switch to user CSM_C_PROC_SU_WITH_ENV is set = switch to user and execute
user's profile; user's shell is always called.</li><li>Executing without shell execvp.</li><li>Executing with shell execlp.</li></ol></ol></ol><div><h2>OPC_KILL_AUTO_ACTION</h2><p class="MsoNormal"><o:p></o:p></p>

<table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="178" valign="top" style="width: 133.5pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="Label"><b><span lang="EN-US" style="font-size:12.0pt;font-family:&quot;Calibri&quot;,sans-serif;
  mso-bidi-font-family:&quot;Times New Roman&quot;">T</span><span lang="EN-US" style="">ype</span></b><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Boolean<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Default Value</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">TRUE<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Class of the variable</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Opcacta<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style=""><b>Namespace </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Eaagt<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Restart Required</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">No<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Introduced
  since&nbsp; </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">OA 8.x<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Applicable Platforms</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">ALL<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Related variables</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">OPC_KILL_AUTO_ACTION_TIMEOUT</span><span lang="EN-US" style="font-size: 12pt; font-family: Calibri, sans-serif;"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table>

<h3><b>Short Description</b></h3><p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal">When set to TRUE, the kill operation for automatic actions
is enabled. If OPC_KILL_AUTO_ACTION is set to true, action agent will
kill/terminate the process running the auto action if process execution is not
completed within the time period defined by OPC_KILL_AUTO_ACTION_TIMEOUT.<o:p></o:p></p>

<h3><b>Long Description</b></h3><p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal">If OPC_KILL_AUTO_ACTION is set to TRUE, then each time an
action should be started the action agent checks if its action agent queue
contains already some actions (10 auto actions for Windows and 2 auto actions
for UNIX).<o:p></o:p></p>

<p class="MsoNormal">If action agent queue contains respective number of actions
for platform, then it checks if any action (only one) running for the longest
time and has crossed the predefined time out value defined by
OPC_KILL_AUTO_ACTION_TIMEOUT. If this is the case action agent will kill the
process executing auto action.<br><span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">For example: If any policy with auto action defined is
deployed on node and policy interval is 20 minutes. Auto action defined in
policy is having 30 minutes sleep time. And Timeout value defined by
OPC_KILL_AUTO_ACTION_TIMEOUT is set to 3 minutes. Then the old process to
execute the action will be killed and new process will be started at every
policy interval.</span></p><h2>OPC_KILL_AUTO_ACTION_TIMEOUT</h2><p class="MsoNormal"><o:p></o:p></p><table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="178" valign="top" style="width: 133.5pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Type</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Integer</span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Default Value</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">590 seconds<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Class of the variable</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">opcacta<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Namespace </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">eaagt<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Restart Required</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">No<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Introduced since&nbsp; </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">OA 8.x<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Applicable Platforms</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">ALL<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Related variables</b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">OPC_KILL_AUTO_ACTION<font face="Calibri, sans-serif"><span style="font-size: 12pt;"><o:p></o:p></span></font></span></p>
  </td>
 </tr>
</tbody></table><h3><b>Short Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">If OPC_KILL_AUTO_ACTION is set to TRUE, the action agent
will kill any processes that have been running longer than the interval
specified by OPC_KILL_AUTO_ACTION_TIMEOUT.&nbsp;&nbsp;
<o:p></o:p></p><h3><b>Long Description</b></h3><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><b>Behavior on Windows:</b><o:p></o:p></p><p class="MsoNormal"></p><ol><li>Every time an action should be started the action agent
checks if its action agent queue contains 10 auto actions. If queue does not
contains 10 auto actions no process will be killed.</li><li>If action agent queue contains 10 actions, then it checks if
the any action (only one) running for the longest time and has crossed the
predefined time out value defined by OPC_KILL_AUTO_ACTION_TIMEOUT. If this is
the case action agent will kill the process executing auto action.</li><li>Process is killed by TerminateProcess () windows api.</li><li>User should define that value based on time taken by longest
running auto action mentioned in all deployed policies. For example if one
policy is having auto action, in auto action user wants to execute a script. If
explicit execution (from command line) of same script take 600 seconds, then
OPC_KILL_AUTO_ACTION_TIMEOUT should have the value longer than 600 seconds.</li></ol><o:p></o:p><p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><b>Behavior on Unix Systems:</b><o:p></o:p></p><p class="MsoNormal"></p><ol><li>Every time an action should be started the action agent
checks if its action agent queue contains 2 auto actions. If queue does not
contains 2 auto actions no process will be killed.</li><li>If action agent queue contains 2 actions, then it checks if
the any action (only one) running for the longest time and has crossed the
predefined time out value defined by OPC_KILL_AUTO_ACTION_TIMEOUT. If this is
the case action agent will kill the process executing auto action.</li><li>Process is killed by SIGKILL signal.</li></ol><p></p><h2>OPC_KILL_SCHEDULE_TIMEOUT </h2><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><div>

<table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="0" style="border-left: none;">
 <tbody><tr>
  <td width="178" valign="top" style="width: 133.5pt; border-width: 1pt; border-left-style: solid; border-color: black; border-image: initial; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Type</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-color: black; border-right-color: black; border-bottom-color: black; border-image: initial; border-left: none; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Integer</span><span lang="EN-US" style=""><o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Default Value</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">55 seconds<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Class of the variable</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">opcacta<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Namespace </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">eaagt<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Restart Required</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">No<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Introduced since&nbsp; </b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">OA 8.x<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Applicable Platforms</b><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="Label"><span lang="EN-US" style="">Windows<o:p></o:p></span></p>
  </td>
 </tr>
 <tr>
  <td width="178" valign="top" style="width: 133.5pt; border-right-width: 1pt; border-bottom-width: 1pt; border-left: 1pt solid black; border-right-color: black; border-bottom-color: black; border-image: initial; border-top: none; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;"><b>Related variables</b></span><span style="line-height: 107%;"><o:p></o:p></span></p>
  </td>
  <td width="504" valign="top" style="width: 5.25in; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: black; border-right-width: 1pt; border-right-color: black; padding: 0in 5.4pt;">
  <p class="MsoNormal"><span style="line-height: 107%;">OPC_KILL_SCHEDULE</span><b><span style="font-size:12.0pt;line-height:
  107%"><o:p></o:p></span></b></p>
  </td>
 </tr>
</tbody></table>

<h3><b>Short Description</b></h3><p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal">This variable defines the time-out period used to check
whether an old scheduled action process is killed or a new one not
started.&nbsp;&nbsp; This variable is only
applicable for scheduled actions on Windows managed nodes.<o:p></o:p></p>

<h3><b>Long Description</b></h3><p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal">If OPC_KILL_SCHEDULE is enabled and a new request to start a
process for a scheduled action arrives at the action agent, then the agent
first checks whether a scheduled action has already been started from the same
policy.<o:p></o:p></p>

<p class="MsoNormal"></p><ul><li>If previous instance of Scheduled action for same policy is
still running and crossed Timeout value defined by OPC_KILL_SCHEDULE_TIMEOUT,
then previous instance of action is killed and new action is started.</li><li>If previous instance of scheduled action is still running
but time out value defined by OPC_KILL_SCHEDULE_TIMEOUT is not crossed yet,
then new instance of scheduled action is discarded. In such cases opcacta will
not executed new instance of Scheduled action for policy till previous SA for
policy is finished or OPC_KILL_SCHEDULE_TIMEOUT is reached.</li></ul><o:p></o:p><p></p>

<p class="MsoNormal"><o:p></o:p></p>

<p class="MsoNormal"><b>Note the following:</b><o:p></o:p></p>

<p class="MsoNormal"></p><ul><li>An Enhancement request (QCCR1A150785) is raised to implement
the OPC_KILL_SCHEDULE_TIMEOUT for UNIX based systems also. The ER is in
deferred state as of June 17, 2016.</li><li>Timeout Value should be greater than 0.</li></ul><o:p></o:p><p></p>

<p class="MsoNormal"><o:p></o:p></p></div><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">

























</p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p></div><p></p><div><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal">









































































































</p><p class="MsoNormal"><o:p></o:p></p><p class="MsoNormal"><o:p></o:p></p></div>