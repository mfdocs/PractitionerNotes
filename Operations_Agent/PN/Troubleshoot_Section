<div class="wiki-content">
                           
        <ul><li><u><em>Problem<strong>:&nbsp;</strong></em><strong> &nbsp;</strong>a.<strong> </strong>Oacore and hpsensor processes are in stopped or aborted state on HPUX platform<strong>&nbsp;</strong></u></li></ul><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;b. midaemon coredump and following error seen in the&nbsp;status.midaemon&nbsp;file</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<em style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">Unable
 to allocate MI shared memory. The current MI shared memory size is too 
small. Possible MI subclass overflow (too&nbsp; many processes, threads, 
transactions, etc.) Further allocation errors will be suppressed.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Terminate&nbsp; the midaemon and restart using the -smdvss option. For more 
details see the midaemon man page.</em></p><p style="margin-left: 90.0px;"><em>WARNING:
 
(/svn-share/BLR.AgentHPUXport.11.20.i/PA/hp1123ipfx64/hpsw-oa/PA/MI/MI/miudt.c,919)
 - MI Shared memory is Full. Please refer to the midaemon man page for 
details on increasing the MI shared memory size. Not enough space. 
Add_to_freelist fails: ENOMEM</em></p><p style="margin-left: 90.0px;"><strong>&nbsp;</strong></p><p style="margin-left: 30.0px;"><em>Cause</em><strong>:</strong><strong>&nbsp;&nbsp;</strong>Not enough space to increase the midaemon shared memory</p><p style="margin-left: 30.0px;"><em>Solution</em>: &nbsp;Use "-smdvss" option as mentioned in midaemon man page to increase the midaemon shared memory.”</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Document link - <a href="https://docs.microfocus.com/itom/Operations_Agent:12.05/ref_guide/rg_cmd2_midaemon" class="external-link" rel="nofollow">https://docs.microfocus.com/itom/Operations_Agent:12.05/ref_guide/rg_cmd2_midaemon</a></p><p>&nbsp;</p><ul><li><u><em>Problem: </em><strong>&nbsp;&nbsp;</strong>Oacore process is not logging the process related metric information for some of the processes into the DB.</u></li></ul><p><strong>&nbsp;</strong></p><p style="margin-left: 30.0px;"><em>Cause:</em><strong> &nbsp;</strong>Processes
 with low system resource usage are not meeting the default criteria 
defined in the parm file hence logging is not happening.</p><p><strong>&nbsp; &nbsp; &nbsp;</strong><em style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">Solution</em><strong style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">:&nbsp; </strong><span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">Oacore process logs the process data into DB based on the parm file configuration defined for </span><strong style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">procthreshold</strong><span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">.</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; By default, the processes with below usage will be logged to DB:</p><p>&nbsp;</p><ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li>Processes that used more than 10% of a processor's worth of CPU during the last interval.</li><li>Processes that had a virtual memory set size over 900 MB.</li><li>Processes that had an average physical disk I/O rate greater than 5 KB per second.</li></ul></li></ul></li></ul><p>&nbsp;</p><p style="margin-left: 60.0px;">The current configuration for process data logging can be checked using the command:</p><p style="margin-left: 60.0px;"><strong>utility -xp -v</strong></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The processes not meeting this criteria can be monitored by modifying this <strong>procthreshold </strong>configuration accordingly:</p><ol><li style="list-style-type: none;background-image: none;"><ol><li>To monitor all the processes:</li></ol></li></ol><p style="margin-left: 30.0px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;procthreshold all</strong></p><p style="margin-left: 30.0px;"><strong>&nbsp; &nbsp; &nbsp;</strong><span style="background-color: transparent;">To monitor processes based on CPU, MEMORY, DISK and IO, the parameters can be specified accordingly:</span></p><p style="margin-left: 30.0px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; procthreshold cpu = xx, memory = xxx, disk = xx, io = xxx, nonew, nokilled</strong></p><p style="margin-left: 30.0px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<strong>Note:</strong> Oacore process needs to be restarted with parm configuration update.</p><p style="margin-left: 30.0px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Document link - <a href="https://docs.microfocus.com/itom/Operations_Agent:12.11/ProcThreshold" class="external-link" rel="nofollow">https://docs.microfocus.com/itom/Operations_Agent:12.11/ProcThreshold</a></p><p>&nbsp;</p><ul><li><u><em>Problem</em><strong>:</strong>&nbsp; &nbsp; “ Error getting OvCore ID “&nbsp; error seen in System.txt</u></li></ul><p><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;</em>0: ERR: Fri Mar 01 12:19:37 2019: ovcd (3892/3920): (ctrl-3) Error getting OvCore ID: ''.<span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">&nbsp;</span></p><p><em>&nbsp; &nbsp; &nbsp; &nbsp; Cause</em><strong>:</strong>&nbsp; &nbsp; &nbsp;This error will be thrown&nbsp;when agent is unable to read the value of OvCoreID from the&nbsp; ovconf file.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;One
 of the possible causes where OvCoreID will be removed, is when ovconf 
file is not available&nbsp;due to lack of disk space on the node.<span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">&nbsp;</span></p><p>&nbsp; &nbsp; &nbsp;&nbsp;<em>Solution</em>:&nbsp; &nbsp; This issue can be resolved by setting the old coreid in 
the node and re-starting the agent. Following are the commands -&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;“ovcoreid –create”</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;“ovc –restart”</p><p>&nbsp;</p><ul><li><u><em>Problem</em>:&nbsp; &nbsp; Operations agent reports incorrect values for CPU related metrics on HP GEN 9 servers.</u></li></ul><p>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The WIN API’s used in agent code for 
calculating CPU related metrics (i.e. NtQuerySystemInformation() &amp; 
GetSystemInfo()) are returning incorrect number of CPU’s on HP GEN 9 
servers.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; This problem can be 
easily identified by checking GBL_NUM_CPU metric value. i.e. GBL_NUM_CPU
 will report only half of the total available processors.</p><p><em>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Cause</em>:&nbsp; &nbsp; &nbsp; HP GEN 9’s BIOS bug is causing this issue.</p><p><span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><em style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">Solution</em><span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">:&nbsp; &nbsp; Please
 check the below HP document to upgrade firmware and change NUMA Group 
Size Optimization as “Flat” if there is &lt;=64 logical processors.</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://support.hpe.com/hpsc/doc/public/display?docId=emr_na-c04650594" class="external-link" rel="nofollow">https://support.hpe.com/hpsc/doc/public/display?docId=emr_na-c04650594</a></p><p>&nbsp;</p><ul><li><u><em>Problem</em><strong>:&nbsp; &nbsp;&nbsp;&nbsp;</strong>Inconsistent number of Trap loss seen.</u></li></ul><p><em>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Cause</em><strong>:&nbsp; &nbsp;</strong>Insufficient
 system UDP buffer size or Insufficient buffer value of agent config 
variable “SNMP_RECV_BUF” could cause the trap loss.&nbsp;<strong>&nbsp;</strong></p><p><em>&nbsp; &nbsp; &nbsp; &nbsp; Solution</em><strong>:&nbsp; </strong>Increase the buffer value of agent config variable “SNMP_RECV_BUF” which is to define the NETSNMP read buffer value.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Then increase the UDP buffer value in the kernel level by following the below steps.</p><p>&nbsp;<strong style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">Windows Platform:</strong></p><ol><li>Move to HKEY_LOCAL_MACHINE \SYSTEM \CurrentControlSet\Services\Afd\Parameters</li><li>Create DWORD "DefaultReceiveWindow" if it does not exist</li><li>Set the value to 8196 (8 KB). If missing events are seen even after using 8KB buffer, please try using 16 KB.</li></ol><p>&nbsp;<strong style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">Linux Platform:</strong></p><p>&nbsp;<span style="font-size: inherit; letter-spacing: 0.2px; background-color: transparent;">sysctl -w net.core.rmem_max=67108864.</span></p>

                
        
    
        </div>

        

            
    



<div id="likes-and-labels-container"><div id="likes-section"><br></div></div>