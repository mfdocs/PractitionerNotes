<html><p>This document contains all the APIs which you can use for Cloud Management, they are mostly the Design and Deploy (DND) APIs.</p>

<h2>Security and Authentication</h2>
All of the APIs can be invoked using a basic authentication header. &nbsp;Since APIs require different roles for authentication, the easiest user to use is one with the DND Administration role. &nbsp;This user will be able to invoke all APIs.

<h2>Common API Headers</h2>
The following headers are used across the APIs for HTTP requests

<table border="1" cellpadding="1" cellspacing="1" style="width: 500px;">
	<tbody>
		<tr>
			<td>Accept</td>
			<td>application/json</td>
		</tr>
		<tr>
			<td>Content-Type</td>
			<td>application/json</td>
		</tr>
	</tbody>
</table>

<h2>Example Used in the Document</h2>
In this document, the use case is being developed using the APIs

<ol>
	<li>A component with a set of 4 properties is being created on the fly</li>
	<li>Resource offerings that the design will use are already available in the system</li>
	<li>The design will include two components, one of which is the component created on the fly</li>
	<li>The design will reference one resource offering</li>
	<li>A simple option model is created for the design to represent the offering in SMAX</li>
	<li>The design is published for SMAX to use</li>
	<li>Later on, the design is removed from the system</li>
</ol>

<h2>Example API Descriptions</h2>
Each API documented below contains the following information:

<ul>
	<li>The required method (GET, POST, PUT, DELETE, PATCH)</li>
	<li>The required headers</li>
	<li>The relative URL (relative to the DND base URL)</li>
	<li>Any input body</li>
	<li>Any input query parameters</li>
	<li>Expected response codes for a success</li>
	<li>A sample structure of the response body</li>
</ul>
After the formal usage, specific usage of the API in the context of the running example in this document is shown. &nbsp;Any identifiers that are used across APIs are highlighted.

<h2>Creating Components and Component Templates</h2>
Since the design will reference a component that is being uniquely created, the first step is to create that component. Properties and actions can be defined on the component type, for all templates of that component type to share, or they can be defined specifically on the component template itself, and not shared.

<h3>List component palettes</h3>
GET &nbsp; /dnd/api/metamodel/?view=condense<br>
<br>
Sample response
<pre><code>{
  "@total_results": 3,
  "@start_index": 0,
  "@items_per_page": 3,
  "@self": "/12345/dnd/api/metamodel/",
  "@type": "urn:x-hp:2012:software:cloud:data_model:metamodel:collection",
  "members": [
    {
      "@self": "/12345/dnd/api/metamodel/2c90d2b3736cda3d01736cfb45db619f",
      "@type": "urn:x-hp:2012:software:cloud:data_model:metamodel",
      "@created": "2020-07-20T16:07:53.563Z",
      "@modified": "2020-07-20T16:07:53.579Z",
      "global_id": "2c90d2b3736cda3d01736cfb45db619f",
      "name": "Legacy Palette",
      "description": "Micro Focus Cloud Service Automation Default Component Catalog",
      "icon": "/12345/dnd/api/blobstore/brand_logo_minimal.png?tag=library",
      "ext": {
        "csa_name_key": "HP_CSA",
        "csa_critical_system_object": true,
        "csa_description": "Micro Focus Cloud Service Automation Default Component Catalog",
        "csa_artifact_container_type": "COMPONENT_PALETTE_SEQUENCE_BASED"
      }
    },
    {
      "@self": "/12345/dnd/api/metamodel/2c90d2b3736cda3d01736d60e04562e5",
      "@type": "urn:x-hp:2012:software:cloud:data_model:metamodel",
      "@created": "2020-07-20T17:58:52.229Z",
      "@modified": "2020-07-20T17:58:52.229Z",
      "global_id": "2c90d2b3736cda3d01736d60e04562e5",
      "name": "MyPalette",
      "description": "This is a new component palette",
      "icon": "/12345/dnd/api/blobstore/other.png?tag=library",
      "ext": {
        "csa_name_key": "MYPALETTE",
        "csa_critical_system_object": false,
        "csa_description": "",
        "csa_artifact_container_type": "COMPONENT_PALETTE_SEQUENCE_BASED"
      }
    },
    {
      "@self": "/12345/dnd/api/metamodel/2c90d2b3736cdb7801736cdbb9280000",
      "@type": "urn:x-hp:2012:software:cloud:data_model:metamodel",
      "@created": "2020-07-20T15:33:25.937Z",
      "@modified": "2020-07-20T15:33:25.937Z",
      "global_id": "2c90d2b3736cdb7801736cdbb9280000",
      "name": "CMS Palette",
      "description": "This palette contains new Micro Focus CSA component types that are modeled against Micro Focus UCMDB's CI Type system. Components of the types contained in this palette will be visible in Micro Focus UCMDB when services in CSA become active.",
      "icon": "/12345/dnd/api/blobstore/brand_logo_minimal.png?tag=library",
      "ext": {
        "csa_name_key": "HPE_CSA_CI_TYPE_BASED",
        "csa_critical_system_object": true,
        "csa_description": "",
        "csa_artifact_container_type": "COMPONENT_PALETTE_SEQUENCE_BASED"
      }
    }
  ],
  "@modified": "2020-07-20T17:58:52.229Z"
}
</code></pre>
<br>
<br>
&nbsp;</html>