<div class="f14 metric" style="color:#656668;display:flex;"><img src="/assets/images/calendar.png" style="height:12px;margin-top:auto;margin-bottom:auto;"><span class="updateDate">&nbsp; Updated on 07/03/2019</span> &nbsp;&nbsp;&nbsp;&nbsp; | &nbsp;&nbsp;&nbsp;&nbsp; <img src="/assets/images/updated.png" style="height:12px;margin-top:auto;margin-bottom:auto;"><span class="readTime">&nbsp; 7 minutes to read</span>&nbsp;&nbsp;&nbsp;&nbsp;</div><br><div class="mw-parser-output"><p><br>
</p>
<div id="toc" class="toc"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#Definitions"><span class="tocnumber">2</span> <span class="toctext">Definitions</span></a></li>
<li class="toclevel-1"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#Update_types"><span class="tocnumber">3</span> <span class="toctext">Update types</span></a>
<ul>
<li class="toclevel-2"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#Typical"><span class="tocnumber">3.1</span> <span class="toctext">Typical</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#Hotfix"><span class="tocnumber">4</span> <span class="toctext">Hotfix</span></a></li>
<li class="toclevel-1"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#Types.2C_delivery.2C_installation"><span class="tocnumber">5</span> <span class="toctext">Types, delivery, installation</span></a>
<ul>
<li class="toclevel-2"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#CDF_vs_Suite"><span class="tocnumber">5.1</span> <span class="toctext">CDF vs Suite</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#Layer_split"><span class="tocnumber">6</span> <span class="toctext">Layer split</span></a></li>
<li class="toclevel-1"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#Upgrading_the_CDF"><span class="tocnumber">7</span> <span class="toctext">Upgrading the CDF</span></a></li>
<li class="toclevel-1"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#Runtime_and_install_time_compatibility"><span class="tocnumber">8</span> <span class="toctext">Runtime and install time compatibility</span></a></li>
<li class="toclevel-1"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#Updating_.2F_hotfixing_the_CDF"><span class="tocnumber">9</span> <span class="toctext">Updating / hotfixing the CDF</span></a></li>
<li class="toclevel-1"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#Updating.2Fupgrading_the_Suite"><span class="tocnumber">10</span> <span class="toctext">Updating/upgrading the Suite</span></a></li>
<li class="toclevel-1"><a href="https://staging.docs.microfocus.com/itom/SMAX:2019.02/Updates#Hotfixing_the_Suite"><span class="tocnumber">11</span> <span class="toctext">Hotfixing the Suite</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview">Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-1" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Moving to container-based delivery intends to also simplify the update and upgrade experience for customers.
Ideally, the customer experience for installation is simple:
</p>
<ul><li>Install infrastructure</li>
<li>Install a suite</li>
<li>Use the suite</li></ul>
<p>At best, all the steps are easy. The outcome is a fully configured, integrated, working Suite.
Similarly, the customer experience for update/upgrade should be equally simple:
</p>
<ul><li>A notification that there is some update or an upgrade available.</li>
<li>The update is applied</li>
<li>Use of the updated / upgrade Suite</li></ul>
<p>The complexity involved with making installation and upgrade simple is considerable.
</p><p>Updating the code is the easy part: swap a container image for another container image. The complexity comes with database schemas, data migration, configuration data and rollback.
</p><p>The Suite can be patched and upgraded.
</p><p>Patching the CDF semi-automatic.
</p>
<h2><span class="mw-headline" id="Definitions">Definitions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-2" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Suite releases occur quarterly. The version naming scheme is therefore YYYY.MM.
</p><p>An update is moving from one release to the next; or the release after that. 
</p><p>Skipping release upgrades and is not supported at this time for CDF. For Suites, it may be possible to skip releases. See the Suite upgrade guide.
</p><p>A suite version consists of a set of images, each with its own version. This metadata is stored also in Docker Hub as an image.
</p><p>Image versions may follow various numbering schemes:
</p>
<ul><li>YYYY.MM with optional &lt;build&gt;</li>
<li>Semantic versioning (with optional build number)</li></ul>
<p>Regardless of the versioning scheme for image tags, different update versions will be clearly distinguishable by their image tag value. There is no need for image introspection to figure out exactly which image version is available or running.
</p>
<h2><span class="mw-headline" id="Update_types">Update types</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-3" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Typical">Typical</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-4" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Every suite update, quarterly or otherwise changes the image composition of a suite.
</p><p>Updates occur as and when bugs need to be fixed.
</p><p>Bigger updates occur every quarter.
</p><p>Updates and upgrades are provided via Docker Hub.
</p>
<h2><span class="mw-headline" id="Hotfix">Hotfix</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-5" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>One special case exists: hotfix. These are customer-specific one off fixes will not be supplied through Docker Hub but instead are provided through the regular support channels.
</p>
<h2><span id="Types,_delivery,_installation"></span><span class="mw-headline" id="Types.2C_delivery.2C_installation">Types, delivery, installation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-6" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The following table lists the types of suite updates support.
</p>
<a class="buttonfullscr" onclick="javascript:loadingTableButton(this);"><button class="flscrbtn"><i class="material-icons flscricn">open_in_new</i><div style="margin: auto 5px;">View Fullscreen</div></button></a><table>
<tbody><tr>
<th><b>Update type</b>
</th>
<th><b>Delivery</b>
</th>
<th><b>Applied how?</b>
</th></tr>
<tr>
<td>Updates
</td>
<td>Docker Hub
</td>
<td>Automated through CDF and Suite
</td></tr>
<tr>
<td>Hotfix
</td>
<td>Support channel
</td>
<td>Manual or semi-automatic via external script
</td></tr></tbody></table>
<h3><span class="mw-headline" id="CDF_vs_Suite">CDF vs Suite</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-7" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<h2><span class="mw-headline" id="Layer_split">Layer split</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-8" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The update/upgrade of the CDF is somewhat separate from the Suite. The following runtime layers exist in the update/upgrade case:
</p>
<a class="buttonfullscr" onclick="javascript:loadingTableButton(this);"><button class="flscrbtn"><i class="material-icons flscricn">open_in_new</i><div style="margin: auto 5px;">View Fullscreen</div></button></a><table>
<tbody><tr>
<th><b>Type</b>
</th>
<th><b>Components in this layer</b>
</th>
<th><b>Update how</b>
</th>
<th><b>Delivery</b>
</th></tr>
<tr>
<td>Non-containerized
</td>
<td>Docker, Kubelet
</td>
<td>External script
</td>
<td>ZIP
</td></tr>
<tr>
<td>Containerized in bootstrap docker
</td>
<td>ETCD, Flannel, Vault
</td>
<td>External script
</td>
<td>ZIP
</td></tr>
<tr>
<td>Workload docker CDF phase 1
</td>
<td>Kubernetes, Platform update service
</td>
<td>External script
</td>
<td>ZIP
</td></tr>
<tr>
<td>Containerized suite
</td>
<td>Suite images, Autopass,
</td>
<td>Update service and/or config/update container(s)
</td>
<td>Docker Hub
</td></tr>
<tr>
<td>CDF phase 2
</td>
<td>Management portal, Nginx ingress controller, Heapster, IDM, PostgreSQL, Fluentd and others
</td>
<td>External script&nbsp;; images from Docker Hub
</td>
<td>Docker Hub (,ZIP)
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Upgrading_the_CDF">Upgrading the CDF</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-9" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-9" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The 2018.08 CDF can be upgraded to 2018.11. The upgrade will update all components such as Docker, Kubernetes, Heapster, Vault, Etcd, Flannel and the CDF core to the 2018.08 level.
</p>
<div class="Admonition_Note">
<p><span class="autonumber">Note</span><br>
To upgrade from CDF 2018.05 to CDF 2018.11, you must first upgrade to CDF 2018.08.
</p>
</div>
<p>The upgrade process is done by executing a script on the cluster nodes.
</p><p>An upgrade should only occur when:
</p>
<ul><li>An upgrade of the installed 2018.08 suite is imminent.</li>
<li>The installed 2018.08-compatible Suite is uninstalled and a 2018.11 Suite will be installed next.</li></ul>
<p>For details on the CDF upgrade, see the Administration Guide.
</p>
<h2><span class="mw-headline" id="Runtime_and_install_time_compatibility">Runtime and install time compatibility</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-10" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-10" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<a class="buttonfullscr" onclick="javascript:loadingTableButton(this);"><button class="flscrbtn"><i class="material-icons flscricn">open_in_new</i><div style="margin: auto 5px;">View Fullscreen</div></button></a><table>
<tbody><tr>
<th><b>&nbsp;</b>
</th>
<th><b>Can install 2018.05 suites?</b>
</th>
<th><b>Can install 2018.08 suites?</b>
</th>
<th>Can install 2018.11 suites?
</th></tr>
<tr>
<td><b>CDF 2018.11 fresh install</b>
</td>
<td>See suite documentation
</td>
<td>Yes
</td>
<td>Yes
</td></tr>
<tr>
<td><b>CDF 2018.11 upgraded from 2018.08</b>
</td>
<td>See suite documentation. Installed suite will continue to run.
</td>
<td>Yes
</td>
<td>Yes
</td></tr>
<tr>
<td><b>CDF 2018.11 upgraded from 2018.08 upgraded from 2018.05</b>
</td>
<td>See suite documentation
</td>
<td>Yes
</td>
<td>Yes
</td></tr></tbody></table>
<h2><span id="Updating_/_hotfixing_the_CDF"></span><span class="mw-headline" id="Updating_.2F_hotfixing_the_CDF">Updating / hotfixing the CDF</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-11" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-11" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Micro Focus will provide updates through its support channels.
</p><p>These updates will contain updated binaries, configuration files, metadata and scripts.
</p><p>Customers will need to transfer the updates to the CDF nodes and run the update script(s).
</p><p>Updates will either be:
</p>
<ul><li>Cumulative patches</li>
<li>Hotfixes specific to one or more customers. Such hotfixes may be rolled into the next cumulative patch.</li></ul>
<h2><span id="Updating/upgrading_the_Suite"></span><span class="mw-headline" id="Updating.2Fupgrading_the_Suite">Updating/upgrading the Suite</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-12" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-12" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Updating/upgrading a suite happens via the integrated suite update process.
</p><p>A prerequisite for a suite upgrade may be the upgrade of the CDF first. If this is required, the Suite upgrade guide will detail it.
</p><p>This is the flow of an update for an installed Suite:
</p>
<ul><li>A bug is identified whose fix cannot be delayed until the next quarterly CDF release.</li>
<li>A code change is made and a new fix is generated. This fix can take the form of:
<ul><li>A new (binary) executable (such as these in the CDF ZIP distribution)</li>
<li>An updated configuration file</li>
<li>An updated YAML specification</li>
<li>An updated image
<ul><li>CDF image or Suite images</li>
<li>Updated images will also always be published to Docker Hub</li></ul></li>
<li>All (or subset) of the above</li></ul></li>
<li>New images are built and provided through Docker Hub</li>
<li>The customer is notified via the Micro Focus support communication channels.</li>
<li>Using the Management Portal, new metadata that identifies the update is loaded into the cluster.</li></ul>
<div class="thumb tnone"><div class="thumbinner" style="width:302px;"><div class="MediaTransformError" style="width: 300px; height: 118px; display:inline-block;">Error creating thumbnail: File missing</div>  <div class="thumbcaption"><div class="magnify"><a href="./itom/File:cdfarch201811_9.png" class="internal" title="Enlarge"></a></div></div></div></div>
<ul><li>Using the Management Portal, the user can select the Update option for the installed Suite.</li>
<li>A wizard will guide the user through the suite update process.</li></ul>
<div class="Admonition_Note">
<p><span class="autonumber">Note</span><br>
</p>
The wizard process and the user experience for a suite update or upgrade are the same.</div>
<div class="MediaTransformError" style="width: 900px; height: 520px; display:inline-block;">Error creating thumbnail: File missing</div>
<h2><span class="mw-headline" id="Hotfixing_the_Suite">Hotfixing the Suite</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;veaction=edit&amp;section=T-13" class="mw-editsection-visualeditor" title="Edit section: ">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=ITOM_Container_Deployment_Foundation:2019.02/WhitepaperUpdates&amp;action=edit&amp;section=T-13" title="Edit section: ">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Micro Focus will provide updates through its support channels.
</p><p>These updates will contain updated binaries, configuration files, metadata and scripts.
</p><p>Customers will need to transfer the updates to a CDF master node and run the update script(s).
</p>
<!-- 
NewPP limit report
Cached time: 20190524103644
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.024 seconds
Real time usage: 0.063 seconds
Preprocessor visited node count: 21/1000000
Preprocessor generated node count: 58/1000000
Post‐expand include size: 6853/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key docops_wiki:pcache:idhash:430999-0!canonical and timestamp 20190524103644 and revision id 1260279
 -->
</div>