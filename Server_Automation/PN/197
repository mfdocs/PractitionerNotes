<p class="line867" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">PlatformService provides read-only access to the platforms managed by SA. A platform describes the hardware architecture and operating system version of a server. Platforms are created during installations, upgrades or via pluggable platform APX installation. PlatformService provides methods for fetching and searching the pre-configured platform information.<span class="anchor" id="line-1834"></span><span class="anchor" id="line-1835"></span></p><p class="line867" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;"></p><h2 id="Show_available_platforms" style="color: rgb(0, 0, 0); letter-spacing: normal; text-transform: none; font-family: sans-serif;">Show available platforms</h2><span class="anchor" id="line-1836" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-1837" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">If you are trying to figure out the valid platform name for a search expression<span class="anchor" id="line-1838"></span><span class="anchor" id="line-1839"></span><span class="anchor" id="line-1840"></span></p><pre style="color: rgb(0, 0, 0); border-width: 1pt; border-style: solid; border-color: rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="anchor" id="line-1-34"></span>/opt/opsware/bin/python -c "from pytwist import twistserver; ps=twistserver.TwistServer().device.PlatformService; print sorted([x.name for x in ps.getPlatformVOs(ps.findPlatformRefs(None))])"</pre><span class="anchor" id="line-1841" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">This list is also available from withing the global shell<span class="anchor" id="line-1842"></span><span class="anchor" id="line-1843"></span><span class="anchor" id="line-1844"></span></p><pre style="color: rgb(0, 0, 0); border-width: 1pt; border-style: solid; border-color: rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="anchor" id="line-1-35"></span>$ ls /opsw/OS</pre><span class="anchor" id="line-1845" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-1846" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line867" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;"></p><h2 id="Explore_the_platform_family_hierarchy" style="color: rgb(0, 0, 0); letter-spacing: normal; text-transform: none; font-family: sans-serif;">Explore the platform family hierarchy</h2><span class="anchor" id="line-1847" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-1848" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line862" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">The platform family is a hierarchical structure returned as an array of nodes by the call&nbsp;<tt class="backtick"></tt><tt class="backtick">PlatformService.findPlatformFamilies()</tt><tt class="backtick"></tt>. This is easier to visualize as a tree with a count of the number of platforms each family supports.<span class="anchor" id="line-1849"></span><span class="anchor" id="line-1850"></span><span class="anchor" id="line-1851"></span><span class="anchor" id="line-1852"></span><span class="anchor" id="line-1853"></span><span class="anchor" id="line-1854"></span><span class="anchor" id="line-1855"></span><span class="anchor" id="line-1856"></span><span class="anchor" id="line-1857"></span><span class="anchor" id="line-1858"></span><span class="anchor" id="line-1859"></span><span class="anchor" id="line-1860"></span><span class="anchor" id="line-1861"></span><span class="anchor" id="line-1862"></span><span class="anchor" id="line-1863"></span><span class="anchor" id="line-1864"></span><span class="anchor" id="line-1865"></span><span class="anchor" id="line-1866"></span><span class="anchor" id="line-1867"></span><span class="anchor" id="line-1868"></span><span class="anchor" id="line-1869"></span><span class="anchor" id="line-1870"></span><span class="anchor" id="line-1871"></span><span class="anchor" id="line-1872"></span><span class="anchor" id="line-1-202"></span></p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-db593106c7082e1b25660a32bc8069ef38908692" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line"><span class="Comment" style="color: rgb(0, 128, 0);">#!/opt/opsware/bin/python</span></span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_2"></span><span class="anchor" id="line-2-104"></span><span class="ResWord" style="color: rgb(160, 0, 0);">from</span> <span class="ID">pytwist</span> <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">twistserver</span></span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_3"></span><span class="anchor" id="line-3-88"></span></span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_4"></span><span class="anchor" id="line-4-74"></span><span class="ResWord" style="color: rgb(160, 0, 0);">def</span> <span class="ID">render</span>(<span class="ID">platformFamily</span>):</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_5"></span><span class="anchor" id="line-5-70"></span>    <span class="ID">lines</span> = []</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_6"></span><span class="anchor" id="line-6-62"></span>    <span class="ID">lines</span>.<span class="ID">append</span>(<span class="String" style="color: rgb(0, 64, 128);">"</span><span class="String" style="color: rgb(0, 64, 128);">%s</span><span class="String" style="color: rgb(0, 64, 128);"> - </span><span class="String" style="color: rgb(0, 64, 128);">%s</span><span class="String" style="color: rgb(0, 64, 128);"> (</span><span class="String" style="color: rgb(0, 64, 128);">%s</span><span class="String" style="color: rgb(0, 64, 128);">)</span><span class="String" style="color: rgb(0, 64, 128);">"</span> % (<span class="ID">platformFamily</span>.<span class="ID">platformFamilyName</span>,</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_7"></span><span class="anchor" id="line-7-52"></span>                                   <span class="ID">platformFamily</span>.<span class="ID">displayName</span>,</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_8"></span><span class="anchor" id="line-8-49"></span>                                   <span class="ResWord" style="color: rgb(160, 0, 0);">len</span>(<span class="ID">platformFamily</span>.<span class="ID">platforms</span>)))</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_9"></span><span class="anchor" id="line-9-43"></span>    <span class="ID">children</span> = [<span class="ID">x</span> <span class="ResWord" style="color: rgb(160, 0, 0);">for</span> <span class="ID">x</span> <span class="ResWord" style="color: rgb(160, 0, 0);">in</span> <span class="ID">families</span> <span class="ResWord" style="color: rgb(160, 0, 0);">if</span> <span class="ID">x</span>.<span class="ID">parentName</span> == <span class="ID">platformFamily</span>.<span class="ID">platformFamilyName</span>]</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_10"></span><span class="anchor" id="line-10-38"></span>    <span class="ResWord" style="color: rgb(160, 0, 0);">for</span> <span class="ID">n</span>, <span class="ID">child</span> <span class="ResWord" style="color: rgb(160, 0, 0);">in</span> <span class="ResWord" style="color: rgb(160, 0, 0);">enumerate</span>(<span class="ID">children</span>):</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_11"></span><span class="anchor" id="line-11-35"></span>        <span class="ID">child_tree</span> = <span class="ID">render</span>(<span class="ID">child</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_12"></span><span class="anchor" id="line-12-33"></span>        <span class="ID">lines</span>.<span class="ID">append</span>(<span class="String" style="color: rgb(0, 64, 128);">"</span><span class="String" style="color: rgb(0, 64, 128);"> +- </span><span class="String" style="color: rgb(0, 64, 128);">"</span> + <span class="ID">child_tree</span>.<span class="ID">pop</span>(<span class="Number" style="color: rgb(0, 128, 192);">0</span>))</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_13"></span><span class="anchor" id="line-13-29"></span>        <span class="ResWord" style="color: rgb(160, 0, 0);">if</span> <span class="ID">n</span> == <span class="ResWord" style="color: rgb(160, 0, 0);">len</span>(<span class="ID">children</span>) - <span class="Number" style="color: rgb(0, 128, 192);">1</span>:</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_14"></span><span class="anchor" id="line-14-26"></span>            <span class="ID">lines</span>.<span class="ID">extend</span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">    </span><span class="String" style="color: rgb(0, 64, 128);">'</span> + <span class="ID">line</span> <span class="ResWord" style="color: rgb(160, 0, 0);">for</span> <span class="ID">line</span> <span class="ResWord" style="color: rgb(160, 0, 0);">in</span> <span class="ID">child_tree</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_15"></span><span class="anchor" id="line-15-24"></span>        <span class="ResWord" style="color: rgb(160, 0, 0);">else</span>:</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_16"></span><span class="anchor" id="line-16-22"></span>            <span class="ID">lines</span>.<span class="ID">extend</span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);"> |  </span><span class="String" style="color: rgb(0, 64, 128);">'</span> + <span class="ID">line</span> <span class="ResWord" style="color: rgb(160, 0, 0);">for</span> <span class="ID">line</span> <span class="ResWord" style="color: rgb(160, 0, 0);">in</span> <span class="ID">child_tree</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_17"></span><span class="anchor" id="line-17-21"></span>    <span class="ResWord" style="color: rgb(160, 0, 0);">return</span> <span class="ID">lines</span></span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_18"></span><span class="anchor" id="line-18-21"></span></span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_19"></span><span class="anchor" id="line-19-19"></span><span class="ID">ts</span> = <span class="ID">twistserver</span>.<span class="ID">TwistServer</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_20"></span><span class="anchor" id="line-20-17"></span><span class="ID">families</span> = <span class="ID">ts</span>.<span class="ID">device</span>.<span class="ID">PlatformService</span>.<span class="ID">findPlatformFamilies</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_21"></span><span class="anchor" id="line-21-15"></span><span class="ID">root</span> = [<span class="ID">x</span> <span class="ResWord" style="color: rgb(160, 0, 0);">for</span> <span class="ID">x</span> <span class="ResWord" style="color: rgb(160, 0, 0);">in</span> <span class="ID">families</span> <span class="ResWord" style="color: rgb(160, 0, 0);">if</span> <span class="ID">x</span>.<span class="ID">parentName</span> <span class="ResWord" style="color: rgb(160, 0, 0);">is</span> <span class="ResWord" style="color: rgb(160, 0, 0);">None</span>][<span class="Number" style="color: rgb(0, 128, 192);">0</span>]</span>
<span class="line"><span class="LineAnchor" id="CA-db593106c7082e1b25660a32bc8069ef38908692_22"></span><span class="anchor" id="line-22-13"></span><span class="ResWord" style="color: rgb(160, 0, 0);">print</span> <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="SPChar" style="color: rgb(0, 0, 192);">\n</span><span class="String" style="color: rgb(0, 64, 128);">'</span>.<span class="ID">join</span>(<span class="ID">render</span>(<span class="ID">root</span>))</span>
</pre></div></div><span class="anchor" id="line-1873" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Execution<span class="anchor" id="line-1874"></span><span class="anchor" id="line-1875"></span><span class="anchor" id="line-1876"></span><span class="anchor" id="line-1877"></span><span class="anchor" id="line-1878"></span><span class="anchor" id="line-1879"></span><span class="anchor" id="line-1880"></span><span class="anchor" id="line-1881"></span><span class="anchor" id="line-1882"></span><span class="anchor" id="line-1883"></span><span class="anchor" id="line-1884"></span><span class="anchor" id="line-1885"></span><span class="anchor" id="line-1886"></span><span class="anchor" id="line-1887"></span><span class="anchor" id="line-1888"></span><span class="anchor" id="line-1889"></span></p><pre style="color: rgb(0, 0, 0); border-width: 1pt; border-style: solid; border-color: rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="anchor" id="line-1-36"></span>ALL - All Operating Systems (120)
<span class="anchor" id="line-2-30"></span> +- UNIX - All UNIX (102)
<span class="anchor" id="line-3-21"></span> |   +- AIX - All AIX (8)
<span class="anchor" id="line-4-16"></span> |   +- HP-UX - All HP-UX (5)
<span class="anchor" id="line-5-14"></span> |   +- LINUX - All Linux (77)
<span class="anchor" id="line-6-12"></span> |   |   +- CENTOS - All CentOS (5)
<span class="anchor" id="line-7-9"></span> |   |   +- OEL - All Oracle Enterprise Linux (7)
<span class="anchor" id="line-8-8"></span> |   |   +- REDHAT - All RedHat Linux (43)
<span class="anchor" id="line-9-6"></span> |   |   +- SUSE - All SuSE Linux (14)
<span class="anchor" id="line-10-4"></span> |   |   +- UBUNTU - All Ubuntu (6)
<span class="anchor" id="line-11-4"></span> |   |   +- XEN - All XenServer (2)
<span class="anchor" id="line-12-4"></span> |   +- SOLARIS - All Solaris (8)
<span class="anchor" id="line-13-3"></span> |   +- VMWARE - All VMware (4)
<span class="anchor" id="line-14-3"></span> +- WINDOWS - All Windows (18)</pre>