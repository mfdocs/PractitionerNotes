<p class="line862" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">The&nbsp;<tt class="backtick"></tt><tt class="backtick">SearchService</tt><tt class="backtick"></tt>&nbsp;interface is used to search for objRefs and to manage/assist searching for objRefs. Typical search involves constructing a&nbsp;<tt class="backtick"></tt><tt class="backtick">Filter</tt><tt class="backtick"></tt>&nbsp;object, which consists of a filter string and a searchable type, as an argument. The method&nbsp;<tt class="backtick"></tt><tt class="backtick">getSearchableTypes</tt><tt class="backtick"></tt>&nbsp;returns a list of search types which can be used on the method&nbsp;<tt class="backtick"></tt><tt class="backtick">getSearchableAttributes</tt><tt class="backtick"></tt>&nbsp;to get the list of searchable attributes for the type. With both the search type and the searchable attribute, the method&nbsp;<tt class="backtick"></tt><tt class="backtick">getSearchableAttributeOperators</tt><tt class="backtick"></tt>&nbsp;can be used to get a list of suitable search operators on the particular attribute. Once you have the search type, searchable attributes and operators, then you're ready to construct the&nbsp;<tt class="backtick"></tt><tt class="backtick">Filter</tt><tt class="backtick"></tt>&nbsp;object.<span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span></p><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Below is an example of a Filter object:<span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span><span class="anchor" id="line-274"></span></p><pre style="color: rgb(0, 0, 0); border-width: 1pt; border-style: solid; border-color: rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="anchor" id="line-1-2"></span> FilterStr:      ((Device.use IN "UNKNOWN" "PRODUCTION" "escaped\"double\"quote\"example") &amp; 
<span class="anchor" id="line-2-2"></span>                  (Device.cpuCount GREATER_THAN 1) &amp; 
<span class="anchor" id="line-3-1"></span>                  (Device.modifiedDt IN 1146952526855 1126552826955))
<span class="anchor" id="line-4-1"></span> searchableType: device</pre><span class="anchor" id="line-275" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Special notes about the grammar for the common-search filter expression:<span class="anchor" id="line-276"></span></p><ul style="color: rgb(0, 0, 0); font-family: sans-serif;"><li>The same junction type must be used within each expression junction.<span class="anchor" id="line-277"></span></li></ul><p class="line867" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;"><span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span></p><pre style="color: rgb(0, 0, 0); border-width: 1pt; border-style: solid; border-color: rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="anchor" id="line-1-3"></span>    valid:   ((x = y) &amp; (a = y) &amp; (x = a))
<span class="anchor" id="line-2-3"></span>    invalid: ((x = y) &amp; (a = y) | (x = a))</pre><span class="anchor" id="line-281" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><ul style="color: rgb(0, 0, 0); font-family: sans-serif;"><li>A text value needs to have double-quotes surrounding it but a number does not.<span class="anchor" id="line-282"></span><ul><li style="list-style-type: none;">Any double-quote that is part of the value must be escaped with a backslash.<span class="anchor" id="line-283"></span></li></ul></li></ul><p class="line867" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;"><span class="anchor" id="line-284"></span><span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span><span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span><span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span></p><pre style="color: rgb(0, 0, 0); border-width: 1pt; border-style: solid; border-color: rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="anchor" id="line-1-4"></span>    valid number:  123.456
<span class="anchor" id="line-2-4"></span>
<span class="anchor" id="line-3-2"></span>    valid text:    "abc"
<span class="anchor" id="line-4-2"></span>    invalid text:  abc
<span class="anchor" id="line-5-1"></span>
<span class="anchor" id="line-6-1"></span>    valid text:    "ab\"c"
<span class="anchor" id="line-7-1"></span>    invalid text:  "ab"c"
<span class="anchor" id="line-8-1"></span>    invalid text:  ab"c</pre><span class="anchor" id="line-293" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><ul style="color: rgb(0, 0, 0); font-family: sans-serif;"><li>Parentheses must surround groups of expressions which will junction with another group of expressions<span class="anchor" id="line-294"></span></li></ul><p class="line867" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;"><span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><span class="anchor" id="line-297"></span></p><pre style="color: rgb(0, 0, 0); border-width: 1pt; border-style: solid; border-color: rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="anchor" id="line-1-5"></span>    valid grouping:   ((x = y) &amp; (a = b)) | (n = r)
<span class="anchor" id="line-2-5"></span>    invalid grouping: (x = y) &amp; (a = b) | (n = r)</pre><span class="anchor" id="line-298" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Common-search filter grammar:<span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span><span class="anchor" id="line-301"></span><span class="anchor" id="line-302"></span><span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span><span class="anchor" id="line-306"></span><span class="anchor" id="line-307"></span><span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span><span class="anchor" id="line-312"></span><span class="anchor" id="line-313"></span><span class="anchor" id="line-314"></span><span class="anchor" id="line-315"></span><span class="anchor" id="line-316"></span><span class="anchor" id="line-317"></span><span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span><span class="anchor" id="line-321"></span><span class="anchor" id="line-322"></span><span class="anchor" id="line-323"></span><span class="anchor" id="line-324"></span><span class="anchor" id="line-325"></span><span class="anchor" id="line-326"></span><span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span><span class="anchor" id="line-329"></span><span class="anchor" id="line-330"></span><span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span><span class="anchor" id="line-333"></span><span class="anchor" id="line-334"></span><span class="anchor" id="line-335"></span><span class="anchor" id="line-336"></span><span class="anchor" id="line-337"></span><span class="anchor" id="line-338"></span><span class="anchor" id="line-339"></span><span class="anchor" id="line-340"></span><span class="anchor" id="line-341"></span><span class="anchor" id="line-342"></span><span class="anchor" id="line-343"></span><span class="anchor" id="line-344"></span><span class="anchor" id="line-345"></span><span class="anchor" id="line-346"></span><span class="anchor" id="line-347"></span><span class="anchor" id="line-348"></span><span class="anchor" id="line-349"></span><span class="anchor" id="line-350"></span><span class="anchor" id="line-351"></span><span class="anchor" id="line-352"></span><span class="anchor" id="line-353"></span><span class="anchor" id="line-354"></span><span class="anchor" id="line-355"></span><span class="anchor" id="line-356"></span><span class="anchor" id="line-357"></span><span class="anchor" id="line-358"></span><span class="anchor" id="line-359"></span><span class="anchor" id="line-360"></span><span class="anchor" id="line-361"></span><span class="anchor" id="line-362"></span><span class="anchor" id="line-363"></span><span class="anchor" id="line-364"></span><span class="anchor" id="line-365"></span><span class="anchor" id="line-366"></span><span class="anchor" id="line-367"></span><span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span><span class="anchor" id="line-370"></span><span class="anchor" id="line-371"></span><span class="anchor" id="line-372"></span><span class="anchor" id="line-373"></span><span class="anchor" id="line-374"></span></p><pre style="color: rgb(0, 0, 0); border-width: 1pt; border-style: solid; border-color: rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="anchor" id="line-1-6"></span> &lt;filter&gt;                      ::= (&lt;expression-junction&gt;)+
<span class="anchor" id="line-2-6"></span> &lt;expression-junction&gt;         ::= &lt;expression-list-open&gt; &lt;junction&gt; 
<span class="anchor" id="line-3-3"></span>                                   (&lt;expression&gt;)+ &lt;expression-list-close&gt;
<span class="anchor" id="line-4-3"></span> &lt;expression&gt;                  ::= &lt;expression-open&gt; &lt;attribute&gt; 
<span class="anchor" id="line-5-2"></span>                                   &lt;general-delimiter&gt; &lt;operator&gt; 
<span class="anchor" id="line-6-2"></span>                                   &lt;general-delimiter&gt; &lt;value-list&gt; 
<span class="anchor" id="line-7-2"></span>                                   &lt;expression-close&gt;
<span class="anchor" id="line-8-2"></span>
<span class="anchor" id="line-9"></span> &lt;attribute&gt;                   ::= &lt;resource_field&gt;
<span class="anchor" id="line-10"></span> &lt;vo_member&gt;                   ::= &lt;text&gt;
<span class="anchor" id="line-11"></span> &lt;resource_field&gt;              ::= &lt;text&gt;
<span class="anchor" id="line-12"></span> &lt;value-list&gt;                  ::= (&lt;double-quote&gt; &lt;text&gt; &lt;double-quote&gt;)* 
<span class="anchor" id="line-13"></span>                                   | (&lt;number&gt;)*
<span class="anchor" id="line-14"></span>
<span class="anchor" id="line-15"></span> &lt;text&gt;                        ::= [a-z] [A-Z] [0-9]
<span class="anchor" id="line-16"></span> &lt;number&gt;                      ::= [0-9] [.]
<span class="anchor" id="line-17"></span>
<span class="anchor" id="line-18"></span> &lt;junction&gt;                    ::= &lt;union-junction&gt; | &lt;intersect-junction&gt;
<span class="anchor" id="line-19"></span> &lt;union-junction&gt;              ::= '|'
<span class="anchor" id="line-20"></span> &lt;intersect-junction&gt;          ::= '&amp;'
<span class="anchor" id="line-21"></span> &lt;expression-list-open&gt;        ::= '('
<span class="anchor" id="line-22"></span> &lt;expression-list-close&gt;       ::= ')'
<span class="anchor" id="line-23"></span> &lt;expression-open&gt;             ::= '(' | '{'
<span class="anchor" id="line-24"></span> &lt;expression-close&gt;            ::= '(' | '}'
<span class="anchor" id="line-25"></span> &lt;general-delimiter&gt;           ::= &lt;whitespace&gt;
<span class="anchor" id="line-26"></span> &lt;whitespace&gt;                  ::= ' '
<span class="anchor" id="line-27"></span> &lt;double-quote&gt;                ::= '"'
<span class="anchor" id="line-28"></span> &lt;escape-characte&gt;&gt;            ::= '\'
<span class="anchor" id="line-29"></span>
<span class="anchor" id="line-30"></span> &lt;operator&gt;                    ::= 
<span class="anchor" id="line-31"></span>            &lt;equal_to&gt; | &lt;not_equal_to&gt; | &lt;not_in&gt; |
<span class="anchor" id="line-32"></span>            &lt;in&gt; | &lt;greater_than&gt; | &lt;less_than&gt; | 
<span class="anchor" id="line-33"></span>            &lt;greater_than_or_equal&gt;&gt; | &lt;less_than_or_equal&gt; | 
<span class="anchor" id="line-34"></span>            &lt;greater_than_or_equal&gt; | &lt;less_than_or_equal&gt; | &lt;begins_with&gt; | 
<span class="anchor" id="line-35"></span>            &lt;ends_with&gt; | &lt;contains&gt; | &lt;not_contains&gt; | 
<span class="anchor" id="line-36"></span>            &lt;in_or_below&gt; | &lt;in_or_above&gt; | &lt;between&gt; | 
<span class="anchor" id="line-37"></span>            &lt;not_between&gt; | &lt;not_begins_with&gt; | &lt;not_ends_with&gt; |
<span class="anchor" id="line-38"></span>            &lt;is_today&gt; | &lt;is_not_today&gt; | &lt;greater_than_today&gt; | 
<span class="anchor" id="line-39"></span>            &lt;greater_than_or_equal_today&gt; | &lt;less_than_today&gt; | 
<span class="anchor" id="line-40"></span>            &lt;less_than_or_equal_today&gt; | &lt;within_last_days&gt; | 
<span class="anchor" id="line-41"></span>            &lt;within_last_months&gt; | &lt;within_next_days&gt; | &lt;within_next_months&gt;| 
<span class="anchor" id="line-42"></span>            &lt;not_within_last_days&gt; | &lt;not_within_last_months&gt; | 
<span class="anchor" id="line-43"></span>            &lt;not_within_next_days&gt; | &lt;not_within_next_months&gt; |
<span class="anchor" id="line-44"></span> &lt;contains_or_below&gt; | &lt;contains_or_above&gt;
<span class="anchor" id="line-45"></span> &lt;equal_to&gt;                    ::= '='    | 'EQUAL_TO'
<span class="anchor" id="line-46"></span> &lt;not_equal_to&gt;                ::= '!='   | '&lt;&gt;' | 'NOT_EQUAL_TO'
<span class="anchor" id="line-47"></span> &lt;in&gt;                          ::= '='    | 'IN'
<span class="anchor" id="line-48"></span> &lt;not_in&gt;                      ::= '!='   | '&lt;&gt;' | 'NOT_IN'
<span class="anchor" id="line-49"></span> &lt;greater_than&gt;                ::= '&gt;'    | 'GREATER_THAN'
<span class="anchor" id="line-50"></span> &lt;less_than&gt;                   ::= '&lt;'    | 'LESS_THAN'
<span class="anchor" id="line-51"></span> &lt;greater_than_or_equal&gt;       ::= '&gt;='   | 'GREATER_THAN_OR_EQUAL'
<span class="anchor" id="line-52"></span> &lt;less_than_or_equal&gt;          ::= '&lt;='   | 'LESS_THAN_OR_EQUAL'
<span class="anchor" id="line-53"></span> &lt;begins_with&gt;                 ::= '=*'   | 'BEGINS_WITH'
<span class="anchor" id="line-54"></span> &lt;ends_with&gt;                   ::= '*='   | 'ENDS_WITH'
<span class="anchor" id="line-55"></span> &lt;contains&gt;                    ::= '*=*'  | 'CONTAINS'
<span class="anchor" id="line-56"></span> &lt;not_contains&gt;                ::= '*&lt;&gt;*' | 'NOT_CONTAINS'
<span class="anchor" id="line-57"></span> &lt;in_or_below&gt;                 ::= 'IN_OR_BELOW'
<span class="anchor" id="line-58"></span> &lt;in_or_above&gt;                 ::= 'IN_OR_ABOVE'
<span class="anchor" id="line-59"></span> &lt;between&gt;                     ::= 'BETWEEN'
<span class="anchor" id="line-60"></span> &lt;not_between&gt;                 ::= 'NOT_BETWEEN'
<span class="anchor" id="line-61"></span> &lt;not_begins_with&gt;             ::= 'NOT_BEGINS_WITH'
<span class="anchor" id="line-62"></span> &lt;not_ends_with&gt;               ::= 'NOT_ENDS_WITH'
<span class="anchor" id="line-63"></span> &lt;is_today&gt;                    ::= 'IS_TODAY'
<span class="anchor" id="line-64"></span> &lt;is_not_today&gt;                ::= 'IS_NOT_TODAY'
<span class="anchor" id="line-65"></span> &lt;within_last_days&gt;            ::= 'WITHIN_LAST_DAYS'
<span class="anchor" id="line-66"></span> &lt;within_last_months&gt;          ::= 'WITHIN_LAST_MONTHS'
<span class="anchor" id="line-67"></span> &lt;within_next_days&gt;            ::= 'WITHIN_NEXT_DAYS'
<span class="anchor" id="line-68"></span> &lt;within_next_months&gt;          ::= 'WITHIN_NEXT_MONTHS'
<span class="anchor" id="line-69"></span> &lt;not_within_last_days&gt;        ::= 'NOT_WITHIN_LAST_DAYS'
<span class="anchor" id="line-70"></span> &lt;not_within_last_months&gt;      ::= 'NOT_WITHIN_LAST_MONTHS'
<span class="anchor" id="line-71"></span> &lt;not_within_next_days&gt;        ::= 'NOT_WITHIN_NEXT_DAYS'
<span class="anchor" id="line-72"></span> &lt;not_within_next_months&gt;      ::= 'NOT_WITHIN_NEXT_MONTHS'
<span class="anchor" id="line-73"></span> &lt;contains_or_below&gt;           ::= 'CONTAINS_OR_BELOW'
<span class="anchor" id="line-74"></span> &lt;contains_or_above&gt;           ::= 'CONTAINS_OR_ABOVE'</pre><span class="anchor" id="line-375" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-376" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Using either the Twister API interface or some pytwist we can start to explore what kind of objects are searchable</p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-91cd03118fac840753e47e509b3b8942210079c4" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line"><span class="LineAnchor" id="CA-91cd03118fac840753e47e509b3b8942210079c4_1"></span><span class="anchor" id="line-1-36"></span>&gt;&gt;&gt; <span class="ID">ts</span>.<span class="ID">search</span>.<span class="ID">SearchService</span>.<span class="ID">getSearchableTypes</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-91cd03118fac840753e47e509b3b8942210079c4_2"></span><span class="anchor" id="line-2-10"></span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">platform</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">apx_version</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">chef_recipe</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">software_policy</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">audit_policy</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">os_build_plan</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">os_node</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">audit_trail_event</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">apx_interface</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">patch_policy</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">patch_unit</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">policy_override</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">customer</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">cust_attr_namespace</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">sitemap_result</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">job</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">snapshot_task</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">customer_admin_role</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">report_result</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">user</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">software_unit</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">audit_result</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">business_application</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">server_module</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">user_role</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">server_script</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">realm</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">device_group</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">facility</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">audit_task</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">ogfs_script</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">v12n_virtual_machine</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">snapshot_result</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">os_sequence</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">v12n_general_leaf_item</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">audit_exclusion</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">saved_search</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">cml</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">configuration</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">folder</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">device</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">report</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">v12n_vmw_ds</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">admin_role</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">apx</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">manager</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">scocheck</span><span class="String" style="color: rgb(0, 64, 128);">'</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-91cd03118fac840753e47e509b3b8942210079c4_3"></span><span class="anchor" id="line-3-9"></span>&gt;&gt;&gt;</span>
</pre></div></div><span class="anchor" id="line-382" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Each searchable type in turn has a list of attributes we can search on</p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-963c369f0261247d7dae52c6175ee5da10806d9c" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line"><span class="LineAnchor" id="CA-963c369f0261247d7dae52c6175ee5da10806d9c_1"></span><span class="anchor" id="line-1-38"></span>&gt;&gt;&gt; <span class="ID">ts</span>.<span class="ID">search</span>.<span class="ID">SearchService</span>.<span class="ID">getSearchableAttributes</span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">customer</span><span class="String" style="color: rgb(0, 64, 128);">'</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-963c369f0261247d7dae52c6175ee5da10806d9c_2"></span><span class="anchor" id="line-2-11"></span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CustomerVO.displayName</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CustomerVO.name</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CustomerVO.pK</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">customer_dvc_id</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">customer_rc_id</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">customer_rc_name</span><span class="String" style="color: rgb(0, 64, 128);">'</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-963c369f0261247d7dae52c6175ee5da10806d9c_3"></span><span class="anchor" id="line-3-10"></span>&gt;&gt;&gt;</span>
</pre></div></div><span class="anchor" id="line-388" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><ul style="color: rgb(0, 0, 0); font-family: sans-serif;"><li style="list-style-type: none;">To produce a handy reference guide of all searchable types and their attributes:<div class="highlight python"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-8d0fee9f23361f1d673f99976ab597502ddc23e7" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line"><span class="LineAnchor" id="CA-8d0fee9f23361f1d673f99976ab597502ddc23e7_1"></span><span class="anchor" id="line-1-40"></span>&gt;&gt;&gt; <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">pprint</span></span>
<span class="line"><span class="LineAnchor" id="CA-8d0fee9f23361f1d673f99976ab597502ddc23e7_2"></span><span class="anchor" id="line-2-12"></span>&gt;&gt;&gt; <span class="ID">ss</span>=<span class="ID">ts</span>.<span class="ID">search</span>.<span class="ID">SearchService</span></span>
<span class="line"><span class="LineAnchor" id="CA-8d0fee9f23361f1d673f99976ab597502ddc23e7_3"></span><span class="anchor" id="line-3-11"></span>&gt;&gt;&gt; <span class="ID">typeAttributeMap</span> = {<span class="ResWord" style="color: rgb(160, 0, 0);">type</span>: <span class="ID">ss</span>.<span class="ID">getSearchableAttributes</span>(<span class="ResWord" style="color: rgb(160, 0, 0);">type</span>) <span class="ResWord" style="color: rgb(160, 0, 0);">for</span> <span class="ResWord" style="color: rgb(160, 0, 0);">type</span> <span class="ResWord" style="color: rgb(160, 0, 0);">in</span> <span class="ID">ss</span>.<span class="ID">getSearchableTypes</span>()}</span>
<span class="line"><span class="LineAnchor" id="CA-8d0fee9f23361f1d673f99976ab597502ddc23e7_4"></span><span class="anchor" id="line-4-5"></span>&gt;&gt;&gt; <span class="ResWord" style="color: rgb(160, 0, 0);">with</span> <span class="ResWord" style="color: rgb(160, 0, 0);">open</span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">typeAttributeMap.txt</span><span class="String" style="color: rgb(0, 64, 128);">'</span>,<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">w</span><span class="String" style="color: rgb(0, 64, 128);">'</span>) <span class="ResWord" style="color: rgb(160, 0, 0);">as</span> <span class="ID">f</span>:</span>
<span class="line"><span class="LineAnchor" id="CA-8d0fee9f23361f1d673f99976ab597502ddc23e7_5"></span><span class="anchor" id="line-5-5"></span>...   <span class="ID">pprint</span>.<span class="ID">pprint</span>(<span class="ID">typeAttributeMap</span>, <span class="ID">stream</span>=<span class="ID">f</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-8d0fee9f23361f1d673f99976ab597502ddc23e7_6"></span><span class="anchor" id="line-6-5"></span>&gt;&gt;</span>
</pre></div></div><span class="anchor" id="line-397"></span><span class="anchor" id="line-398"></span></li></ul><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">What kinds of operations can we do with the customer and CustomerVO.name attibute</p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-8f40cf5595327cd76b74f291d11ab0185612449b" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line"><span class="LineAnchor" id="CA-8f40cf5595327cd76b74f291d11ab0185612449b_1"></span><span class="anchor" id="line-1-42"></span>&gt;&gt;&gt; <span class="ID">ts</span>.<span class="ID">search</span>.<span class="ID">SearchService</span>.<span class="ID">getSearchableAttributeOperators</span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">customer</span><span class="String" style="color: rgb(0, 64, 128);">'</span>,<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CustomerVO.name</span><span class="String" style="color: rgb(0, 64, 128);">'</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-8f40cf5595327cd76b74f291d11ab0185612449b_2"></span><span class="anchor" id="line-2-13"></span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">IS_NOT_NULL</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">IN</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">NOT_ENDS_WITH</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">BEGINS_WITH</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">EQUAL_TO</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">NOT_IN</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CONTAINS</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">NOT_EQUAL_TO</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">NOT_CONTAINS</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">IS_NULL</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">ENDS_WITH</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">NOT_BEGINS_WITH</span><span class="String" style="color: rgb(0, 64, 128);">'</span>)</span>
</pre></div></div><span class="anchor" id="line-403" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Building a search filter to locate a customer by their name</p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-6104ecb67583eff94be18bd222d07b7cf0a2855e" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line"><span class="LineAnchor" id="CA-6104ecb67583eff94be18bd222d07b7cf0a2855e_1"></span><span class="anchor" id="line-1-44"></span>&gt;&gt;&gt; <span class="ResWord" style="color: rgb(160, 0, 0);">from</span> <span class="ID">pytwist.com.opsware.search</span> <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">Filter</span></span>
<span class="line"><span class="LineAnchor" id="CA-6104ecb67583eff94be18bd222d07b7cf0a2855e_2"></span><span class="anchor" id="line-2-14"></span>&gt;&gt;&gt; <span class="ID">f</span> = <span class="ID">Filter</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-6104ecb67583eff94be18bd222d07b7cf0a2855e_3"></span><span class="anchor" id="line-3-12"></span>&gt;&gt;&gt; <span class="ID">f</span>.<span class="ID">objectType</span> = <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">customer</span><span class="String" style="color: rgb(0, 64, 128);">'</span></span>
<span class="line"><span class="LineAnchor" id="CA-6104ecb67583eff94be18bd222d07b7cf0a2855e_4"></span><span class="anchor" id="line-4-6"></span>&gt;&gt;&gt; <span class="ID">f</span>.<span class="ID">expression</span> = <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CustomerVO.name EQUAL_TO CustomerA</span><span class="String" style="color: rgb(0, 64, 128);">'</span></span>
<span class="line"><span class="LineAnchor" id="CA-6104ecb67583eff94be18bd222d07b7cf0a2855e_5"></span><span class="anchor" id="line-5-6"></span>&gt;&gt;&gt; <span class="ID">myCustomers</span> = <span class="ID">ts</span>.<span class="ID">search</span>.<span class="ID">SearchService</span>.<span class="ID">findObjRefs</span>(<span class="ID">f</span>)</span>
</pre></div></div><span class="anchor" id="line-411" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Using the overloaded API avoids the Filter construction. Replacing the string EQUAL_TO with the = symbol makes the expression more concise.</p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-2e1fcdbb0dddd2c2db46d76554ecc56a1eef6b7a" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line"><span class="LineAnchor" id="CA-2e1fcdbb0dddd2c2db46d76554ecc56a1eef6b7a_1"></span><span class="anchor" id="line-1-46"></span>&gt;&gt;&gt; <span class="ID">myCustomers</span> = <span class="ID">ts</span>.<span class="ID">search</span>.<span class="ID">SearchService</span>.<span class="ID">findObjRefs</span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CustomerVO.name = CustomerA</span><span class="String" style="color: rgb(0, 64, 128);">'</span>,<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">customer</span><span class="String" style="color: rgb(0, 64, 128);">'</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-2e1fcdbb0dddd2c2db46d76554ecc56a1eef6b7a_2"></span><span class="anchor" id="line-2-15"></span>&gt;&gt;&gt; <span class="ID">myCustomers</span></span>
<span class="line"><span class="LineAnchor" id="CA-2e1fcdbb0dddd2c2db46d76554ecc56a1eef6b7a_3"></span><span class="anchor" id="line-3-13"></span>(&lt;<span class="ID">CustomerA</span> (<span class="ID">CustomerRef</span>:<span class="Number" style="color: rgb(0, 128, 192);">30001</span>) <span class="ID">instance</span> <span class="ID">at</span> <span class="Number" style="color: rgb(0, 128, 192);">0x7ff7cae839e0</span>&gt;,)</span>
<span class="line"><span class="LineAnchor" id="CA-2e1fcdbb0dddd2c2db46d76554ecc56a1eef6b7a_4"></span><span class="anchor" id="line-4-7"></span>&gt;&gt;&gt;</span>
</pre></div></div><span class="anchor" id="line-418" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line862" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">The result returned will be an array of CustomerRef objects as the search may match more than 1 customer, in our case we know it can only match one. Using these references we can then lookup the VO (Value Object).<span class="anchor" id="line-419"></span><span class="anchor" id="line-420"></span><span class="anchor" id="line-421"></span><span class="anchor" id="line-422"></span><span class="anchor" id="line-423"></span><span class="anchor" id="line-424"></span><span class="anchor" id="line-425"></span><span class="anchor" id="line-426"></span><span class="anchor" id="line-1-47"></span></p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-0c9715c1d1c5c9e70ab6ca6d12404c39de284f56" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line">&gt;&gt;&gt; <span class="ID">VOs</span> = <span class="ID">ts</span>.<span class="ID">locality</span>.<span class="ID">CustomerService</span>.<span class="ID">getCustomerVOs</span>(<span class="ID">myCustomers</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-0c9715c1d1c5c9e70ab6ca6d12404c39de284f56_2"></span><span class="anchor" id="line-2-16"></span>&gt;&gt;&gt; <span class="ID">VOs</span></span>
<span class="line"><span class="LineAnchor" id="CA-0c9715c1d1c5c9e70ab6ca6d12404c39de284f56_3"></span><span class="anchor" id="line-3-14"></span>(&lt;<span class="ID">pytwist</span>.<span class="ID">com</span>.<span class="ID">opsware</span>.<span class="ID">locality</span>.<span class="ID">CustomerVO</span> <span class="ID">instance</span> <span class="ID">at</span> <span class="Number" style="color: rgb(0, 128, 192);">0x7ff7cae83cf8</span>&gt;,)</span>
<span class="line"><span class="LineAnchor" id="CA-0c9715c1d1c5c9e70ab6ca6d12404c39de284f56_4"></span><span class="anchor" id="line-4-8"></span>&gt;&gt;&gt; <span class="ID">myCustomer</span> = <span class="ID">VOs</span>[<span class="Number" style="color: rgb(0, 128, 192);">0</span>]</span>
<span class="line"><span class="LineAnchor" id="CA-0c9715c1d1c5c9e70ab6ca6d12404c39de284f56_5"></span><span class="anchor" id="line-5-7"></span>&gt;&gt;&gt; <span class="ResWord" style="color: rgb(160, 0, 0);">vars</span>(<span class="ID">myCustomer</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-0c9715c1d1c5c9e70ab6ca6d12404c39de284f56_6"></span><span class="anchor" id="line-6-6"></span>{<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">status</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">ACTIVE</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">businessAcctId</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: -<span class="Number" style="color: rgb(0, 128, 192);">1L</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">displayName</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CustomerA</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">__OPSW_CHANGED_ATTRS__</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: {}, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">authDomain</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">N/A</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">dirtyAttributes</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: (), <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">facilities</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: (&lt;<span class="ID">alpha</span> (<span class="ID">FacilityRef</span>:<span class="Number" style="color: rgb(0, 128, 192);">1</span>) <span class="ID">instance</span> <span class="ID">at</span> <span class="Number" style="color: rgb(0, 128, 192);">0x7ff7cae83dd0</span>&gt;,), <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">internal</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: <span class="ResWord" style="color: rgb(160, 0, 0);">False</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">modifiedBy</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">brett</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">modifiedDate</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: <span class="Number" style="color: rgb(0, 128, 192);">1552395688L</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">createdBy</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">brett</span><span class="String" style="color: rgb(0, 64, 128);">'</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">createdDate</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: <span class="Number" style="color: rgb(0, 128, 192);">1551899863L</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">logChange</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: <span class="ResWord" style="color: rgb(160, 0, 0);">True</span>, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">ref</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: &lt;<span class="ID">CustomerA</span> (<span class="ID">CustomerRef</span>:<span class="Number" style="color: rgb(0, 128, 192);">30001</span>) <span class="ID">instance</span> <span class="ID">at</span> <span class="Number" style="color: rgb(0, 128, 192);">0x7ff7cae83d88</span>&gt;, <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">name</span><span class="String" style="color: rgb(0, 64, 128);">'</span>: <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CUSTOMERA</span><span class="String" style="color: rgb(0, 64, 128);">'</span>}</span>
</pre></div></div><span class="anchor" id="line-427" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Internally the VO is represented as a dictionary and we can access the members by using DOT notation.<span class="anchor" id="line-428"></span><span class="anchor" id="line-429"></span><span class="anchor" id="line-430"></span><span class="anchor" id="line-431"></span><span class="anchor" id="line-1-49"></span></p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-99b3d7b2549c55c797799666aba857d51e35c410" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line">&gt;&gt;&gt; <span class="ID">myCustomer</span>.<span class="ID">status</span></span>
<span class="line"><span class="LineAnchor" id="CA-99b3d7b2549c55c797799666aba857d51e35c410_2"></span><span class="anchor" id="line-2-17"></span><span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">ACTIVE</span><span class="String" style="color: rgb(0, 64, 128);">'</span></span>
</pre></div></div><span class="anchor" id="line-432" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">As mentioned prior in the pytwist quirks section java.util.Date objects are converted to seconds since epoch and we have two of those; createdDate and modifiedDate. Use of the time package will be required to examine them in a human readable format.<span class="anchor" id="line-433"></span><span class="anchor" id="line-434"></span><span class="anchor" id="line-435"></span><span class="anchor" id="line-436"></span><span class="anchor" id="line-437"></span><span class="anchor" id="line-1-51"></span></p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-f0985c945c5b2890e98d1867b0c14ce17c4683a2" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line">&gt;&gt;&gt; <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">time</span></span>
<span class="line"><span class="LineAnchor" id="CA-f0985c945c5b2890e98d1867b0c14ce17c4683a2_2"></span><span class="anchor" id="line-2-18"></span>&gt;&gt;&gt; <span class="ID">time</span>.<span class="ID">ctime</span>(<span class="ID">myCustomer</span>.<span class="ID">createdDate</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-f0985c945c5b2890e98d1867b0c14ce17c4683a2_3"></span><span class="anchor" id="line-3-15"></span><span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">Wed Mar  6 19:17:43 2019</span><span class="String" style="color: rgb(0, 64, 128);">'</span></span>
</pre></div></div><span class="anchor" id="line-438" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-439" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Another interesting method in the search service is asking the Twist what SQL it would construct for the supplied expression.<span class="anchor" id="line-440"></span><span class="anchor" id="line-441"></span><span class="anchor" id="line-442"></span><span class="anchor" id="line-443"></span><span class="anchor" id="line-444"></span><span class="anchor" id="line-445"></span><span class="anchor" id="line-446"></span><span class="anchor" id="line-447"></span><span class="anchor" id="line-1-53"></span></p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-2372b4ace228befc794f2b9ec92daaf2ae87d3af" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line">&gt;&gt;&gt; <span class="ResWord" style="color: rgb(160, 0, 0);">from</span> <span class="ID">pytwist.com.opsware.search</span> <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">Filter</span></span>
<span class="line"><span class="LineAnchor" id="CA-2372b4ace228befc794f2b9ec92daaf2ae87d3af_2"></span><span class="anchor" id="line-2-19"></span>&gt;&gt;&gt; <span class="ID">f</span> = <span class="ID">Filter</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-2372b4ace228befc794f2b9ec92daaf2ae87d3af_3"></span><span class="anchor" id="line-3-16"></span>&gt;&gt;&gt; <span class="ID">f</span>.<span class="ID">objectType</span> = <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">customer</span><span class="String" style="color: rgb(0, 64, 128);">'</span></span>
<span class="line"><span class="LineAnchor" id="CA-2372b4ace228befc794f2b9ec92daaf2ae87d3af_4"></span><span class="anchor" id="line-4-9"></span>&gt;&gt;&gt; <span class="ID">f</span>.<span class="ID">expression</span> = <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CustomerVO.name EQUAL_TO CustomerA</span><span class="String" style="color: rgb(0, 64, 128);">'</span></span>
<span class="line"><span class="LineAnchor" id="CA-2372b4ace228befc794f2b9ec92daaf2ae87d3af_5"></span><span class="anchor" id="line-5-8"></span>&gt;&gt;&gt; <span class="ID">ts</span>.<span class="ID">search</span>.<span class="ID">SearchService</span>.<span class="ID">getFilterSQL</span>(<span class="ID">f</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-2372b4ace228befc794f2b9ec92daaf2ae87d3af_6"></span><span class="anchor" id="line-6-7"></span><span class="String" style="color: rgb(0, 64, 128);">"</span><span class="String" style="color: rgb(0, 64, 128);">select /* FilterParser.02 */ distinct accounts.acct_id, accounts.display_name from  (select /* ResourceTypeView.01 */ accounts.* from truth.accounts where accounts.ACCT_ID in ((select /* RA.customer_base_view */ distinct accounts.acct_id from  truth.accounts where 1=1))) accounts , ((select /* FilterParser.04 */ customer_acct_ivw.acct_id from (select /* RA.customer_acct_ivw */ accounts.acct_id, accounts.acct_id as customer_account_id, accounts.acct_name as customer_account_name, accounts.display_name as customer_account_display_name from truth.accounts) customer_acct_ivw where upper(customer_acct_ivw.customer_account_name) = </span><span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CUSTOMERA</span><span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">)) search_view where accounts.acct_id=search_view.acct_id and accounts.acct_id in (select /* RA.customer_base_view */ distinct accounts.acct_id from  truth.accounts where 1=1 )</span><span class="String" style="color: rgb(0, 64, 128);">"</span></span>
</pre></div></div><span class="anchor" id="line-448" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">This can be useful when trying to understand why a query is running sub-optimally in the database and from where it might have originated.<span class="anchor" id="line-449"></span><span class="anchor" id="line-450"></span></p><p class="line867" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;"></p><h2 id="Special_search_expressions" style="color: rgb(0, 0, 0); letter-spacing: normal; text-transform: none; font-family: sans-serif;">Special search expressions</h2><span class="anchor" id="line-451" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-452" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line862" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">There are two search expressions not documented in the Twister javadoc API page for the SearchService and those are IS_NULL and IS_NOT_NULL. Due to a quirk in the way in which the expression parser is written all expressions are required to be in the format&nbsp;<em><strong>operand operator operand</strong></em>. This posses a problem for monotonic operators such as those just mentioned. The workaround, or hack if you like, is to supply an arbitrary 2nd operand. The convention is to use 0 as that operand.<span class="anchor" id="line-453"></span><span class="anchor" id="line-454"></span><span class="anchor" id="line-455"></span><span class="anchor" id="line-1-55"></span></p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-1ce61c9ed9423160f57dd9cdc46610084a819f85" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line">&gt;&gt;&gt; <span class="ID">allCustomers</span> = <span class="ID">ts</span>.<span class="ID">search</span>.<span class="ID">SearchService</span>.<span class="ID">findObjRefs</span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CustomerVO.name IS_NOT_NULL 0</span><span class="String" style="color: rgb(0, 64, 128);">'</span>,<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">customer</span><span class="String" style="color: rgb(0, 64, 128);">'</span>)</span>
</pre></div></div><span class="anchor" id="line-456" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-457" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line867" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;"></p><h2 id="Method_orthogonality" style="color: rgb(0, 0, 0); letter-spacing: normal; text-transform: none; font-family: sans-serif;">Method orthogonality</h2><span class="anchor" id="line-458" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-459" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line862" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Using the SearchService its possible to search on all the known object types withing the system using method calls such as<span class="anchor" id="line-460"></span><span class="anchor" id="line-461"></span><span class="anchor" id="line-462"></span><span class="anchor" id="line-463"></span><span class="anchor" id="line-464"></span><span class="anchor" id="line-465"></span><span class="anchor" id="line-466"></span><span class="anchor" id="line-1-57"></span></p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-6104ecb67583eff94be18bd222d07b7cf0a2855e-1" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line">&gt;&gt;&gt; <span class="ResWord" style="color: rgb(160, 0, 0);">from</span> <span class="ID">pytwist.com.opsware.search</span> <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">Filter</span></span>
<span class="line"><span class="LineAnchor" id="CA-6104ecb67583eff94be18bd222d07b7cf0a2855e-1_2"></span><span class="anchor" id="line-2-20"></span>&gt;&gt;&gt; <span class="ID">f</span> = <span class="ID">Filter</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-6104ecb67583eff94be18bd222d07b7cf0a2855e-1_3"></span><span class="anchor" id="line-3-17"></span>&gt;&gt;&gt; <span class="ID">f</span>.<span class="ID">objectType</span> = <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">customer</span><span class="String" style="color: rgb(0, 64, 128);">'</span></span>
<span class="line"><span class="LineAnchor" id="CA-6104ecb67583eff94be18bd222d07b7cf0a2855e-1_4"></span><span class="anchor" id="line-4-10"></span>&gt;&gt;&gt; <span class="ID">f</span>.<span class="ID">expression</span> = <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CustomerVO.name EQUAL_TO CustomerA</span><span class="String" style="color: rgb(0, 64, 128);">'</span></span>
<span class="line"><span class="LineAnchor" id="CA-6104ecb67583eff94be18bd222d07b7cf0a2855e-1_5"></span><span class="anchor" id="line-5-9"></span>&gt;&gt;&gt; <span class="ID">myCustomers</span> = <span class="ID">ts</span>.<span class="ID">search</span>.<span class="ID">SearchService</span>.<span class="ID">findObjRefs</span>(<span class="ID">f</span>)</span>
</pre></div></div><span class="anchor" id="line-467" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">In each object type there will be a service with a corresponding findRefs method<span class="anchor" id="line-468"></span><span class="anchor" id="line-469"></span></p><p class="line862" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Although we used the SearchService to find the customer ref each object interface service will also have a Find method. For instance the CustomerService will have the following method<span class="anchor" id="line-470"></span><span class="anchor" id="line-471"></span><span class="anchor" id="line-472"></span></p><pre style="color: rgb(0, 0, 0); border-width: 1pt; border-style: solid; border-color: rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="anchor" id="line-1-7"></span>findCustomerRefs(Filter filter)</pre><span class="anchor" id="line-473" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">When we use the objects Service class to build a Filter the objectType is not required as the API knows what type of object we are looking for.<span class="anchor" id="line-474"></span><span class="anchor" id="line-475"></span><span class="anchor" id="line-476"></span><span class="anchor" id="line-477"></span><span class="anchor" id="line-478"></span><span class="anchor" id="line-1-59"></span></p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-d01483aab45c1a22572a28be6db689a49c608e95" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line">&gt;&gt;&gt; <span class="ID">f</span> = <span class="ID">Filter</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-d01483aab45c1a22572a28be6db689a49c608e95_2"></span><span class="anchor" id="line-2-21"></span>&gt;&gt;&gt; <span class="ID">f</span>.<span class="ID">expression</span> = <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">CustomerVO.name = </span><span class="String" style="color: rgb(0, 64, 128);">"</span><span class="String" style="color: rgb(0, 64, 128);">CustomerA</span><span class="String" style="color: rgb(0, 64, 128);">"</span><span class="String" style="color: rgb(0, 64, 128);">'</span></span>
<span class="line"><span class="LineAnchor" id="CA-d01483aab45c1a22572a28be6db689a49c608e95_3"></span><span class="anchor" id="line-3-18"></span>&gt;&gt;&gt; <span class="ID">myCustomers</span> = <span class="ID">ts</span>.<span class="ID">locality</span>.<span class="ID">CustomerService</span>.<span class="ID">findCustomerRefs</span>(<span class="ID">f</span>)</span>&nbsp;</pre></div></div><span class="anchor" id="line-479" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-480" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-481" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line867" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;"></p><h2 id="Search_type_to_service_mapping" style="color: rgb(0, 0, 0); letter-spacing: normal; text-transform: none; font-family: sans-serif;">Searching on date time fields</h2><span class="anchor" id="line-482" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-483" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span style="font-size: 16px; font-weight: 400; background-color: transparent;">The time search fields are expressed in units of epoch milliseconds.&nbsp; The following will find all jobs that have started in the last hour.&nbsp; When accessing job information we must authenticate as a user, core authentication will not give us access to job results.</span><div class="highlight python" style="font-weight: 400; font-size: 16px;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-7f8c0d106c7a2b92760a293f7a16ed43a7db2790" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line"><span class="Comment" style="color: rgb(0, 128, 0);">#!/opt/opsware/bin/python</span></span>
<span class="line"><span class="LineAnchor" id="CA-7f8c0d106c7a2b92760a293f7a16ed43a7db2790_2"></span><span class="anchor" id="line-2-22"></span><span class="ResWord" style="color: rgb(160, 0, 0);">from</span> <span class="ID">pytwist.twistserver</span> <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">TwistServer</span></span>
<span class="line"><span class="LineAnchor" id="CA-7f8c0d106c7a2b92760a293f7a16ed43a7db2790_3"></span><span class="anchor" id="line-3-19"></span><span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">time</span></span>
<span class="line"><span class="LineAnchor" id="CA-7f8c0d106c7a2b92760a293f7a16ed43a7db2790_4"></span><span class="anchor" id="line-4-11"></span><span class="ID">ts</span> = <span class="ID">TwistServer</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-7f8c0d106c7a2b92760a293f7a16ed43a7db2790_5"></span><span class="anchor" id="line-5-10"></span><span class="ID">ts</span>.<span class="ID">authenticate</span>(<span class="String" style="color: rgb(0, 64, 128);">"</span><span class="String" style="color: rgb(0, 64, 128);">jyaya</span><span class="String" style="color: rgb(0, 64, 128);">"</span>,<span class="String" style="color: rgb(0, 64, 128);">"</span><span class="String" style="color: rgb(0, 64, 128);">password</span><span class="String" style="color: rgb(0, 64, 128);">"</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-7f8c0d106c7a2b92760a293f7a16ed43a7db2790_6"></span><span class="anchor" id="line-6-8"></span><span class="ID">SS</span> = <span class="ID">ts</span>.<span class="ID">search</span>.<span class="ID">SearchService</span></span>
<span class="line"><span class="LineAnchor" id="CA-7f8c0d106c7a2b92760a293f7a16ed43a7db2790_7"></span><span class="anchor" id="line-7-4"></span><span class="ID">oneHourAgo</span> = <span class="ResWord" style="color: rgb(160, 0, 0);">long</span>(<span class="ID">time</span>.<span class="ID">time</span>() - <span class="Number" style="color: rgb(0, 128, 192);">3600</span>) * <span class="Number" style="color: rgb(0, 128, 192);">1000</span></span>
<span class="line"><span class="LineAnchor" id="CA-7f8c0d106c7a2b92760a293f7a16ed43a7db2790_8"></span><span class="anchor" id="line-8-4"></span><span class="ID">jobRefs</span> = <span class="ID">SS</span>.<span class="ID">findObjRefs</span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">(JobInfoVO.startDate &gt; </span><span class="String" style="color: rgb(0, 64, 128);">%d</span><span class="String" style="color: rgb(0, 64, 128);">)</span><span class="String" style="color: rgb(0, 64, 128);">'</span> % <span class="ID">oneHourAgo</span>,<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">job</span><span class="String" style="color: rgb(0, 64, 128);">'</span>)</span></pre></div></div><h2 id="Search_type_to_service_mapping" style="color: rgb(0, 0, 0); letter-spacing: normal; text-transform: none; font-family: sans-serif;">Search type to service mapping</h2><span class="anchor" id="line-482" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-483" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line862" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">The return results of the call&nbsp;<tt class="backtick"></tt><tt class="backtick">SearchService.getSearchableType()</tt><tt class="backtick"></tt>&nbsp;will have a corresponding Service that can be used instead of the generic&nbsp;<tt class="backtick"></tt><tt class="backtick">FindObjRefs</tt><tt class="backtick"></tt>&nbsp;call. This table maps those searchable types to the package, minus the com.opsware component, to their Service.<span class="anchor" id="line-484"></span><span class="anchor" id="line-485"></span></p><div style="color: rgb(0, 0, 0); font-family: sans-serif;"><table style="margin: 0.5em 0px 0px 0.5em; border-collapse: collapse;"><tbody><tr style="background-color: rgb(221, 221, 221);"><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line891" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;"><strong>Searchable Type</strong></p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;"><strong>Service Interface</strong></p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-486"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">admin_role</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">fido.AdminRoleService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-487"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">apx</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">apx.APXService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-488"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">apx_interface</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">apx.APXInterfaceService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-489"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">apx_version</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">apx.APXVersionService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-490"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">audit_exclusion</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">compliance.sco.AuditExclusionService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-491"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">audit_policy</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">compliance.sco.AuditPolicyService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-492"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">audit_result</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">compliance.sco.AuditResultService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-493"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">audit_task</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">compliance.sco.AuditTaskService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-494"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">customer</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">locality.CustomerService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-495"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">customer_admin_role</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">fido.CustomerAdminRoleService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-496"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">device</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">server.ServerService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-497"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">device_group</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">device.DeviceGroupService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-498"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">facility</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">locality.FacilityService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-499"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">folder</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">folder.FolderService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-500"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">job</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">job.JobService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-501"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">ogfs_script</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">script.OGFSScriptService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-502"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">os_build_plan</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">osprov.OSBuildPlanService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-503"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">os_sequence</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">osprov.OSSequenceService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-504"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">patch_policy</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">swmgmt.PatchPolicyService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-505"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">patch_unit</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">pkg.PatchService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-506"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">platform</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">device.PlatformService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-507"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">policy_override</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">compliance.sco.AuditExclusionService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-508"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">realm</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">locality.RealmService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-509"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">saved_search</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">savedsearch.SavedSearchService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-510"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">scocheck</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">compliance.sco.SCOCheckService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-511"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">server_module</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">smo.ServiceModuleService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-512"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">server_script</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">script.ServerScriptService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-513"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">snapshot_result</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">compliance.sco.SnapshotResultService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-514"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">snapshot_task</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">compliance.sco.SnapshotTaskService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-515"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">software_policy</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">swmgmt.SoftwarePolicyService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-516"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">software_unit</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">pkg.UnitService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-517"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">user_role</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">fido.UserRoleService</p></td></tr><tr><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><span class="anchor" id="line-518"></span><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">v12n_virtual_machine</p></td><td style="padding: 0.25em 0.5em; border: 1pt solid rgb(173, 185, 204);"><p class="line862" style="margin-top: 0px; margin-right: 0px; margin-left: 0px; padding: 0px;">v12.VirtualServerService</p></td></tr></tbody></table></div>