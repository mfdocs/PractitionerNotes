<h2 id="Deploy_an_Agent" style="color: rgb(0, 0, 0); letter-spacing: normal; text-transform: none; font-family: sans-serif;">Deploy an Agent</h2><span class="anchor" id="line-2250" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-2251" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">This example will initiate the deploy agent service to install an agent on a UNIX server.</p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_1"></span><span class="anchor" id="line-1-229"></span><span class="Comment" style="color: rgb(0, 128, 0);">#!/opt/opsware/bin/python</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_2"></span><span class="anchor" id="line-2-115"></span><span class="ResWord" style="color: rgb(160, 0, 0);">from</span> <span class="ID">pytwist.twistserver</span> <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">TwistServer</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_3"></span><span class="anchor" id="line-3-99"></span><span class="ResWord" style="color: rgb(160, 0, 0);">from</span> <span class="ID">pytwist.com.opsware.mgmtservice.job</span> <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> *</span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_4"></span><span class="anchor" id="line-4-83"></span><span class="ResWord" style="color: rgb(160, 0, 0);">from</span> <span class="ID">pytwist.com.opsware.server</span> <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">ServerRef</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_5"></span><span class="anchor" id="line-5-79"></span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_6"></span><span class="anchor" id="line-6-71"></span><span class="ID">loginOpts</span> = <span class="ID">HPSAAgentDeployLoginOptions</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_7"></span><span class="anchor" id="line-7-61"></span><span class="ID">loginOpts</span>.<span class="ID">targetOSClass</span> = <span class="ID">HPSAAgentDeployLoginOptions</span>.<span class="ID">OS_CLASS_UNIX</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_8"></span><span class="anchor" id="line-8-57"></span><span class="ID">loginOpts</span>.<span class="ID">username</span> = <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">root</span><span class="String" style="color: rgb(0, 64, 128);">'</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_9"></span><span class="anchor" id="line-9-51"></span><span class="ID">loginOpts</span>.<span class="ID">password</span> = <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">opsware</span><span class="String" style="color: rgb(0, 64, 128);">'</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_10"></span><span class="anchor" id="line-10-46"></span><span class="ID">loginOpts</span>.<span class="ID">hosts</span> = [<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">10.0.0.3</span><span class="String" style="color: rgb(0, 64, 128);">'</span>]</span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_11"></span><span class="anchor" id="line-11-42"></span><span class="ID">loginOpts</span>.<span class="ID">protocols</span> = [<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">ssh:22</span><span class="String" style="color: rgb(0, 64, 128);">'</span>]</span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_12"></span><span class="anchor" id="line-12-40"></span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_13"></span><span class="anchor" id="line-13-36"></span><span class="ID">advOpts</span> = <span class="ID">HPSAAgentDeployAdvancedOptions</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_14"></span><span class="anchor" id="line-14-33"></span><span class="ID">advOpts</span>.<span class="ID">tmpDir</span> = <span class="String" style="color: rgb(0, 64, 128);">"</span><span class="String" style="color: rgb(0, 64, 128);">/tmp</span><span class="String" style="color: rgb(0, 64, 128);">"</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_15"></span><span class="anchor" id="line-15-31"></span><span class="ID">advOpts</span>.<span class="ID">wayPort</span> = <span class="Number" style="color: rgb(0, 128, 192);">1018</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_16"></span><span class="anchor" id="line-16-29"></span><span class="ID">advOpts</span>.<span class="ID">wordPort</span> = <span class="Number" style="color: rgb(0, 128, 192);">1003</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_17"></span><span class="anchor" id="line-17-27"></span><span class="ID">advOpts</span>.<span class="ID">spinPort</span> = <span class="Number" style="color: rgb(0, 128, 192);">1004</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_18"></span><span class="anchor" id="line-18-27"></span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_19"></span><span class="anchor" id="line-19-25"></span><span class="ID">adt</span> = <span class="ID">HPSAAgentDeployJobInput</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_20"></span><span class="anchor" id="line-20-23"></span><span class="ID">adt</span>.<span class="ID">actionType</span> = <span class="ID">HPSAAgentDeployJobInput</span>.<span class="ID">ACTION_TYPE_INSTALL</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_21"></span><span class="anchor" id="line-21-19"></span><span class="ID">adt</span>.<span class="ID">loginOptions</span> = <span class="ID">loginOpts</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_22"></span><span class="anchor" id="line-22-16"></span><span class="ID">adt</span>.<span class="ID">gatewayServer</span> = <span class="ID">ServerRef</span>(<span class="Number" style="color: rgb(0, 128, 192);">10001</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_23"></span><span class="anchor" id="line-23-14"></span><span class="ID">adt</span>.<span class="ID">gatewayAddressInfo</span> = [<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">192.168.4.130:3001</span><span class="String" style="color: rgb(0, 64, 128);">'</span>]</span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_24"></span><span class="anchor" id="line-24-12"></span><span class="ID">adt</span>.<span class="ID">installerOptions</span> = <span class="String" style="color: rgb(0, 64, 128);">"</span><span class="String" style="color: rgb(0, 64, 128);">--force_full_hw_reg --force_sw_reg --withrpm --loglevel error</span><span class="String" style="color: rgb(0, 64, 128);">"</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_25"></span><span class="anchor" id="line-25-11"></span><span class="ID">adt</span>.<span class="ID">timeout</span> = <span class="Number" style="color: rgb(0, 128, 192);">3600</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_26"></span><span class="anchor" id="line-26-9"></span><span class="ID">adt</span>.<span class="ID">advancedOptions</span> = <span class="ID">advOpts</span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_27"></span><span class="anchor" id="line-27-8"></span></span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_28"></span><span class="anchor" id="line-28-7"></span><span class="ID">ts</span> = <span class="ID">TwistServer</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_29"></span><span class="anchor" id="line-29-7"></span><span class="ID">ts</span>.<span class="ID">authenticate</span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">user</span><span class="String" style="color: rgb(0, 64, 128);">'</span>,<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">password</span><span class="String" style="color: rgb(0, 64, 128);">'</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-bd5b4cd08984cc71414aeea773131d3227e24244_30"></span><span class="anchor" id="line-30-7"></span><span class="ResWord" style="color: rgb(160, 0, 0);">print</span> <span class="ID">ts</span>.<span class="ID">mgmtservice</span>.<span class="ID">HPSAAgentService</span>.<span class="ID">startHPSAAgentDeploy</span>(<span class="ID">adt</span>, <span class="ResWord" style="color: rgb(160, 0, 0);">None</span>, <span class="ResWord" style="color: rgb(160, 0, 0);">None</span>, <span class="ResWord" style="color: rgb(160, 0, 0);">None</span>)</span>
</pre></div></div><span class="anchor" id="line-2284" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Execution<span class="anchor" id="line-2285"></span><span class="anchor" id="line-2286"></span><span class="anchor" id="line-2287"></span><span class="anchor" id="line-2288"></span></p><pre style="color: rgb(0, 0, 0); border-width: 1pt; border-style: solid; border-color: rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="anchor" id="line-1-42"></span>[root@dc1 HPSAAgentService]# ./deploy_agent.py
<span class="anchor" id="line-2-35"></span>Deploy HP SA Agent (JobRef:114910001)</pre><span class="anchor" id="line-2289" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-2290" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Deploying an agent to Windows the following changes would be required.<span class="anchor" id="line-2291"></span><span class="anchor" id="line-2292"></span><span class="anchor" id="line-2293"></span><span class="anchor" id="line-2294"></span><span class="anchor" id="line-2295"></span><span class="anchor" id="line-2296"></span><span class="anchor" id="line-2297"></span></p><pre style="color: rgb(0, 0, 0); border-width: 1pt; border-style: solid; border-color: rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="anchor" id="line-1-43"></span>loginOpts.targetOSClass = HPSAAgentDeployLoginOptions.OS_CLASS_WINDOWS
<span class="anchor" id="line-2-36"></span>loginOpts.username = 'Administrator'
<span class="anchor" id="line-3-26"></span>loginOpts.protocols = ['auto']
<span class="anchor" id="line-4-21"></span>advOpts.tmpDir = None
<span class="anchor" id="line-5-18"></span>adt.installerOptions = "--force_full_hw_reg --force_sw_reg --withmsi --loglevel error"</pre><span class="anchor" id="line-2298" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-2299" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line867" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;"></p><h2 id="Agent_deployment_job_results" style="color: rgb(0, 0, 0); letter-spacing: normal; text-transform: none; font-family: sans-serif;">Agent deployment job results</h2><span class="anchor" id="line-2300" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><span class="anchor" id="line-2301" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line862" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Agent deployment does not use the&nbsp;<strong>Way</strong>&nbsp;as the job engine it makes use of Work Load Management (WLM) system built into the&nbsp;<strong>Twist</strong>. These two separate job sub-systems are transparent to the user when viewing jobs in the GUI but when performing programmatic access you must be aware of this distinction as the way in which results and output are obtained changes.<span class="anchor" id="line-2302"></span><span class="anchor" id="line-2303"></span></p><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">The job output is not being printed but the code to fetch it has been included so you can see hows it's done. This code only works for single server agent deployment jobs. Multi-server deployments are more complex with regards to aligning the server with its output.</p><div class="highlight python" style="color: rgb(0, 0, 0); font-family: sans-serif;"><div class="codearea" dir="ltr" lang="en" style="margin: 0.5em 0px; padding: 0px; border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247);"><pre dir="ltr" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981" lang="en" style="border-width: initial; border-style: none; background-color: rgb(243, 245, 247); padding: 10pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_1"></span><span class="anchor" id="line-1-231"></span><span class="Comment" style="color: rgb(0, 128, 0);">#!/opt/opsware/bin/python</span></span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_2"></span><span class="anchor" id="line-2-116"></span><span class="ResWord" style="color: rgb(160, 0, 0);">from</span> <span class="ID">pytwist</span> <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">twistserver</span></span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_3"></span><span class="anchor" id="line-3-100"></span><span class="ResWord" style="color: rgb(160, 0, 0);">from</span> <span class="ID">pytwist.com.opsware.job</span> <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">JobRef</span>, <span class="ID">WlmJobResult</span>, <span class="ID">JobServerInfo</span></span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_4"></span><span class="anchor" id="line-4-84"></span><span class="ResWord" style="color: rgb(160, 0, 0);">from</span> <span class="ID">pytwist.com.opsware.mgmtservice.job</span> <span class="ResWord" style="color: rgb(160, 0, 0);">import</span> <span class="ID">HPSAAgentDeployTaskResult</span></span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_5"></span><span class="anchor" id="line-5-80"></span></span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_6"></span><span class="anchor" id="line-6-72"></span><span class="Comment" style="color: rgb(0, 128, 0);"># Make a dictionary of all the Static STATUS fields in JobServerInfo</span></span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_7"></span><span class="anchor" id="line-7-62"></span><span class="ID">jobServerState</span> = {<span class="ID">v</span>: <span class="ID">k</span>.<span class="ID">replace</span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">_STATUS</span><span class="String" style="color: rgb(0, 64, 128);">'</span>,<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">'</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_8"></span><span class="anchor" id="line-8-58"></span>                  <span class="ResWord" style="color: rgb(160, 0, 0);">for</span> <span class="ID">k</span>,<span class="ID">v</span> <span class="ResWord" style="color: rgb(160, 0, 0);">in</span> <span class="ResWord" style="color: rgb(160, 0, 0);">vars</span>(<span class="ID">JobServerInfo</span>).<span class="ID">items</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_9"></span><span class="anchor" id="line-9-52"></span>                  <span class="ResWord" style="color: rgb(160, 0, 0);">if</span> <span class="ResWord" style="color: rgb(160, 0, 0);">not</span> <span class="ResWord" style="color: rgb(160, 0, 0);">callable</span>(<span class="ID">v</span>) <span class="ResWord" style="color: rgb(160, 0, 0);">and</span> <span class="ID">k</span>.<span class="ID">endswith</span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">_STATUS</span><span class="String" style="color: rgb(0, 64, 128);">'</span>)}</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_10"></span><span class="anchor" id="line-10-47"></span></span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_11"></span><span class="anchor" id="line-11-43"></span><span class="ID">ts</span> = <span class="ID">twistserver</span>.<span class="ID">TwistServer</span>()</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_12"></span><span class="anchor" id="line-12-41"></span><span class="ID">ts</span>.<span class="ID">authenticate</span>(<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">user</span><span class="String" style="color: rgb(0, 64, 128);">'</span>,<span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">password</span><span class="String" style="color: rgb(0, 64, 128);">'</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_13"></span><span class="anchor" id="line-13-37"></span><span class="ID">jobRef</span> = <span class="ID">JobRef</span>(<span class="Number" style="color: rgb(0, 128, 192);">114910001</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_14"></span><span class="anchor" id="line-14-34"></span><span class="ID">jobResult</span> = <span class="ID">ts</span>.<span class="ID">job</span>.<span class="ID">JobService</span>.<span class="ID">getResult</span>(<span class="ID">jobRef</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_15"></span><span class="anchor" id="line-15-32"></span><span class="ResWord" style="color: rgb(160, 0, 0);">if</span> <span class="ID">jobResult</span>.<span class="ID">jobInfo</span>.<span class="ID">type</span> == <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="String" style="color: rgb(0, 64, 128);">mgmtservice.agent.deploy</span><span class="String" style="color: rgb(0, 64, 128);">'</span>:</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_16"></span><span class="anchor" id="line-16-30"></span>    <span class="ID">results</span> = [<span class="ID">x</span>.<span class="ID">taskData</span></span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_17"></span><span class="anchor" id="line-17-28"></span>               <span class="ResWord" style="color: rgb(160, 0, 0);">for</span> <span class="ID">x</span> <span class="ResWord" style="color: rgb(160, 0, 0);">in</span> <span class="ID">jobResult</span>.<span class="ID">elemResultInfo</span></span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_18"></span><span class="anchor" id="line-18-28"></span>               <span class="ResWord" style="color: rgb(160, 0, 0);">if</span> <span class="ResWord" style="color: rgb(160, 0, 0);">isinstance</span>(<span class="ID">x</span>, <span class="ID">HPSAAgentDeployTaskResult</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_19"></span><span class="anchor" id="line-19-26"></span>               <span class="ResWord" style="color: rgb(160, 0, 0);">and</span> <span class="ID">x</span>.<span class="ID">taskData</span>.<span class="ID">sessionStarted</span>]</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_20"></span><span class="anchor" id="line-20-24"></span>    <span class="ID">jobOutput</span> = <span class="String" style="color: rgb(0, 64, 128);">'</span><span class="SPChar" style="color: rgb(0, 0, 192);">\n</span><span class="String" style="color: rgb(0, 64, 128);">'</span>.<span class="ID">join</span>(<span class="ID">x</span>.<span class="ID">defaultMsg</span> <span class="ResWord" style="color: rgb(160, 0, 0);">for</span> <span class="ID">x</span> <span class="ResWord" style="color: rgb(160, 0, 0);">in</span> <span class="ID">results</span>[<span class="Number" style="color: rgb(0, 128, 192);">0</span>].<span class="ID">completedMessages</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_21"></span><span class="anchor" id="line-21-20"></span>    <span class="Comment" style="color: rgb(0, 128, 0);">#print jobOutput</span></span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_22"></span><span class="anchor" id="line-22-17"></span>    <span class="ID">jobServerInfo</span> = <span class="ID">jobResult</span>.<span class="ID">jobInfo</span>.<span class="ID">serverInfo</span>[<span class="Number" style="color: rgb(0, 128, 192);">0</span>]</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_23"></span><span class="anchor" id="line-23-15"></span>    <span class="ResWord" style="color: rgb(160, 0, 0);">print</span> <span class="String" style="color: rgb(0, 64, 128);">"</span><span class="String" style="color: rgb(0, 64, 128);">Agent install on </span><span class="String" style="color: rgb(0, 64, 128);">%s</span><span class="String" style="color: rgb(0, 64, 128);"> was </span><span class="String" style="color: rgb(0, 64, 128);">%s</span><span class="String" style="color: rgb(0, 64, 128);">"</span> % (<span class="ID">jobServerInfo</span>.<span class="ID">server</span>,</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_24"></span><span class="anchor" id="line-24-13"></span>                                          <span class="ID">jobServerState</span>[<span class="ID">jobServerInfo</span>.<span class="ID">status</span>])</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_25"></span><span class="anchor" id="line-25-12"></span><span class="ResWord" style="color: rgb(160, 0, 0);">else</span>:</span>
<span class="line"><span class="LineAnchor" id="CA-6816854fd8b1638b936aa95ba9eb9a1662d76981_26"></span><span class="anchor" id="line-26-10"></span>    <span class="ResWord" style="color: rgb(160, 0, 0);">print</span> <span class="String" style="color: rgb(0, 64, 128);">"</span><span class="String" style="color: rgb(0, 64, 128);">Not an agent installation job</span><span class="String" style="color: rgb(0, 64, 128);">"</span></span>
</pre></div></div><span class="anchor" id="line-2332" style="color: rgb(0, 0, 0); font-family: sans-serif;"></span><p class="line874" style="color: rgb(0, 0, 0); letter-spacing: normal; font-family: sans-serif; font-size: 16px;">Execution<span class="anchor" id="line-2333"></span><span class="anchor" id="line-2334"></span><span class="anchor" id="line-2335"></span><span class="anchor" id="line-2336"></span></p><pre style="color: rgb(0, 0, 0); border-width: 1pt; border-style: solid; border-color: rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; white-space: pre-wrap; overflow-wrap: break-word;"><span class="anchor" id="line-1-44"></span>[root@dc1 HPSAAgentService]# ./deploy_agent_results.py
<span class="anchor" id="line-2-37"></span>Agent install on 0fb31db2c086 (ServerRef:90590001) was SUCCESS</pre>