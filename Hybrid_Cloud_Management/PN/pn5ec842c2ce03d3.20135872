<html><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Micro Focus Hybrid Cloud Management (HCM) allows end users to deploy virtual machines on vCenter. &nbsp;After a virtual machine has been deployed, end users of HCM may need access to web console of virtual machines for the following scenarios:</span></span></span>
<ul>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Troubleshoot Virtual Machine (VM) issues.</span></span></span></li>
	<li style="margin-bottom:11px; margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Open a login session to virtual machine when remote connections such as Remote Desktop Protocol (RDP) and Secure Socket Shell (SSH) are not functioning.</span></span></span></li>
</ul>
<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">This practitioner note describes a solution to allow access to vCenter VM web console for HCM end users. This solution has the following pre-requisites:</span></span></span>

<ol>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">HCM (Either classic or containerized versions)</span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">An Operations Orchestration (OO) Remote Action Server (RAS) running on a Microsoft (MS) Windows operating system. </span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">MS Windows operating system with PowerShell version 5.1 or later. OO RAS and PowerShell can be hosted on the&nbsp; same Windows server.</span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">PowerShell with VMware PowerCLI module. </span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">PowerShell host with remoting enabled.</span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">vCenter 5.5 or later.</span></span></span></li>
	<li style="margin-bottom:11px; margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Connectivity to vCenter vSphere application from OO RAS and PowerShell.</span></span></span></li>
</ol>
<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">The solution works as follows:</span></span></span>

<ol>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">An end user requests for a new vCenter virtual machine subscription from HCM end user portal.</span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">HCM submits request to deploy virtual machine to a pre-configured OO workflow.</span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">The OO workflow triggers a PowerShell script after creation of VM.</span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">The PowerShell script returns VM web console URL to the OO workflow.</span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">The OO workflow returns the VM web console URL along with other VM information to HCM.</span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">HCM creates VM subscription and assigns that subscription to the end user. </span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">End user brings up VM subscription service instance details. The VM web console URL is displayed as one of the properties of deployed service instance.</span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">End user clicks on VM web console URL to launch VM web console to the deployed virtual machine. </span></span></span></li>
	<li style="margin-bottom:11px; margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">If virtual machine name changes or if SSL certificate changes on vCenter, or if the web console URL does not work for some reason, the end user launches an action to update the VM web console URL in the end user portal. As a result, the VM web console URL is updated for the virtual machine.</span></span></span></li>
</ol>
<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Follow the steps below to implement this solution, allowing vCenter VM web console access to end users in HCM.</span></span></span><br>
<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>Configure HCM, OO and PowerShell environment</b></span></span></span>

<ol>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Get a list of OO flows that needs to be modified to allow vCenter VM web console access to end users.</span></span></span>

	<ul>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Login to the HCM Service Management Console.</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Open the service design for the service that deploys vCenter virtual machines. There may be more than one service design that deploys vCenter virtual machines.</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Select and view the component that corresponds to vCenter virtual machine.</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Click “RESOURCE OFFERINGS” tab. Select the “SUN” icon and click “Navigate to Resource Offering”</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">&nbsp;<img id="Picture_x0020_3" src="/mediawiki/images/pn_images/pn_image_5ec8451f5bc793.42836815.png" style="width:303pt; height:171.75pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Click “LIFECYCLE” tab. In the sample screenshot below, “vCenter Deploy VM” OO flow is defined as a service lifecycle OO flow that provisions a VM. Note down the OO flow name. There may be more than one service design that deploys vCenter virtual machines. Repeat the above steps for each service design and note down all OO flow names used in resource offering lifecycle provisioning stages.</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_4" src="/mediawiki/images/pn_images/pn_image_5ec8451faab848.79207574.png" style="width:303.75pt; height:202.5pt"> </span></span></span><br>
		&nbsp;</li>
	</ul>
	</li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Modify OO flows to return the VM Web Console URL to HCM</span></span></span> &nbsp;
	<ul>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Launch OO studio. </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Attached to this practitioner notes, you will find the following artifacts available for download:</span></span></span>
		<ul style="list-style-type:circle">
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">OO flow “Get VM Web Console URL” in XML format. </span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">OO flow “vCenter Update VM Web Console URL” in XML format.</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">OO content system properties “vCenterWebConsoleLocale”,” vCenterWebConsolePort”,” vCenterWebConsolePowershellHost” and “vCenterWebConsoleScriptPath” in XML format.</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">OO content system account “vCenterWebConsolePSCred” in XML format.</span></span></span></li>
			<li style="margin-left:24px; margin-bottom:11px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">“Get-VMWebConsoleURL.ps1” PowerShell script. </span></span></span></li>
		</ul>
		<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">The “Get VM Web Console URL” OO flow retrieves vCenter VM web console URL for a specified virtual machine. The flow invokes the Windows PowerShell script “Get-VMWebConsoleURL.ps1” to generate vCenter VM web console URL. &nbsp;The “Get VM Web Console URL” OO flow is invoked during provisioning stages of a virtual machine. The “vCenter Update VM Web Console URL” OO flow updates VM web console URL for an already deployed virtual machine. The “vCenter Update VM Web Console URL” OO flow is invoked as a user action on an already deployed virtual machine.</span></span></span><br>
		<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">The OO flows and the PowerShell script can be further enhanced to meet your coding style, implement organization specific requirements, perform additional checks required for your environment, to improve performance, to use as a reference, etc. Use these OO flows and the PowerShell script as is and it is not supported by Micro Focus.</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Copy the “Get VM Web Console URL.xml” file to an appropriate OO studio workspace project directory of your choice.&nbsp; In the sample screenshot below, the “Get VM Web Console URL.xml” file has been saved in the following OO studio workspace project directory: C:\Users\user01\.oo\Workspace\CSA VMware vCenter Sequenced [18.0.3]\Content\Library\CSA Content Pack\Providers\vCenter\Subflows</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_17" src="/mediawiki/images/pn_images/pn_image_5ec845201b3ac6.56413020.png" style="width:375.75pt; height:303.75pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Copy the “vCenter Update VM Web Console URL.xml” file to an appropriate OO studio workspace project directory of your choice.&nbsp; In the sample screenshot below, the “vCenter Update VM Web Console URL.xml” file has been saved in the following OO studio workspace project directory: C:\Users\user01\.oo\Workspace\CSA VMware vCenter Sequenced [18.0.3]\Content\Library\CSA Content Pack\Providers\vCenter\Actions</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_21" src="/mediawiki/images/pn_images/pn_image_5ec84520866b83.47704478.png" style="width:366pt; height:251.25pt"> </span></span></span><br>
		&nbsp;</li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Copy the files “vCenterWebConsoleLocale.xml”,” vCenterWebConsolePort.xml”,” vCenterWebConsolePowershellHost.xml” and “vCenterWebConsoleScriptPath.xml” to &nbsp;the “System Properties” directory of project workspace. In the sample screenshot below, the “vCenterWebConsoleLocale.xml”,” vCenterWebConsolePort.xml”,” vCenterWebConsolePowershellHost.xml” and “vCenterWebConsoleScriptPath.xml” files have been saved in the following OO studio workspace project directory: C:\Users\user01\.oo\Workspace\CSA VMware vCenter Sequenced [18.0.3]\Content\Configuration\System Properties</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_16" src="/mediawiki/images/pn_images/pn_image_5ec84520c85967.03708632.png" style="width:388.5pt; height:119.25pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Copy the “vCenterWebConsolePSCred.xml” file to the “System Accounts” directory of project workspace. In the sample screenshot below, the &nbsp;“vCenterWebConsolePSCred.xml” file has been saved in the following OO studio workspace project directory: C:\Users\user01\.oo\Workspace\CSA VMware vCenter Sequenced [18.0.3]\Content\Configuration\System Accounts</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_15" src="/mediawiki/images/pn_images/pn_image_5ec84521017122.83510527.png" style="width:353.25pt; height:60.75pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Refresh the project in OO Studio so that the “Get VM Web Console URL” flow, “vCenter Update VM Web Console URL” flow, System Accounts and System Properties become available for use in OO studio.</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">In OO Studio, navigate to System Accounts and System Properties. Validate that the following system account is available: “vCenterWebConsolePSCred”. Validate that the following system properties are available: “vCenterWebConsoleLocale”,” vCenterWebConsolePort”,” vCenterWebConsolePowershellHost” and “vCenterWebConsoleScriptPath”</span></span></span><br>
		<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_18" src="/mediawiki/images/pn_images/pn_image_5ec84521364640.08192704.png" style="width:171.75pt; height:220.5pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">In OO Studio, navigate and click the “Get VM Web Console URL” flow. A screenshot of the “Get VM Web Console URL” flow is shown below:</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_2" src="/mediawiki/images/pn_images/pn_image_5ec845217ec561.68530109.png" style="width:387.75pt; height:134.25pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">The “Get VM Web Console URL” flow has the following inputs</span></span></span>
		<ul style="list-style-type:circle">
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>vmId</b>: ID of the virtual machine for which web console URL has to be generated. Expects ID in the following format vm-xxxx (For example, vm-1234).</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>vCenterPort</b>: vCenter server port number. Uses 443 as the default port number.</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>vCenterHost</b>: vCenter server’s fully qualified domain name or IP address.</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>vCenterUser</b>: vCenter login ID. </span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>vCenterPwd</b>: vCenter login password.</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>overrideNRAS</b>: Supply windows RAS group name used in your OO Central architecture. By default uses “Windows” as the RAS group name.</span></span></span></li>
		</ul>
		</li>
		<br>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">The “Get VM Web Console URL” flow outputs VM web console URL.</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Insert “Get VM Web Console URL” flow as a subflow in all of the identified flows that deploys a virtual machine. Supply values for the inputs to the “Get VM Web Console URL” subflow. In the sample screenshot below, the “Get VM Web Console URL” flow has been inserted as a step/subflow in the “vCenter Deploy VM” OO flow. The “Get VM Web Console URL” step is inserted after provision of VM step.</span></span></span><br>
		<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_9" src="/mediawiki/images/pn_images/pn_image_5ec845226c57b4.12165867.png" style="width:468pt; height:267pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Add a new flow output field with the name “VM Web Console URL” to all the identified VM provisioning OO flows in earlier steps. Map the “VM Web Console URL” output field name to “vmWebConsoleURL” output field. In the sample screenshot below, the “VM Web Console URL” flow output name has been added to the “vCenter Deploy VM” flow. </span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">&nbsp;</span></span></span><br>
		<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_20" src="/mediawiki/images/pn_images/pn_image_5ec84522de4f22.50719085.png" style="width:461.25pt; height:168pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">In OO Studio, navigate and click the “vCenter Update VM Web Console URL” flow. A screenshot of the “vCenter Update VM Web Console URL” flow is shown below:</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_22" src="/mediawiki/images/pn_images/pn_image_5ec845232c59b9.66392551.png" style="width:454.5pt; height:141.75pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">The “vCenter Update VM Web Console URL” flow has the following inputs</span></span></span>
		<ul style="list-style-type:circle">
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>vmId</b>: ID of the virtual machine for which web console URL has to be generated. Supply ID in the following format vm-xxxx (For example, vm-1234)</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>providerId</b>: HCM vCenter provider ID. HCM creates a provider ID for every provider created in HCM.</span></span></span></li>
		</ul>
		</li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">In OO Studio, create a new version of vCenter content pack using updated OO flows. </span></span></span></li>
	</ul>
	</li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Configure PowerShell host environment</span></span></span>
	<ul>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Create the following directory on PowerShell host: C:\vCenterScripts</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Copy the script “Get-VMWebConsoleURL.ps1” to the directory C:\vCenterScripts</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Test PowerShell script with your vCenter environment. </span></span></span>
		<ul style="list-style-type:circle">
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Open PowerShell command prompt.</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Navigate to C:\vCenterScripts directory.</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Run the PowerShell script with following syntax: .\Get-VMWebConsoleURL.ps1 -VcenterHost vCenter.FQDN.com -VcenterPort 443 -VcenterUser admin -VcenterPwd &lt;AdminPassword&gt; -VcenterWebConsolePort 9443 -VmId vm-1234 -VcenterWebConsoleLocale en_US</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Validate that script returns VM Web Console URL.</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">If there are any issues in PowerShell or vCenter connection issues due to firewall fix them and retest.</span></span></span></li>
		</ul>
		</li>
	</ul>
	</li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Configure OO Central to use the updated content pack</span></span></span>
	<ul>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Login to OO Central as user admin. </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Upload updated vCenter content pack to OO Central.</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Adjust the following system parameters if necessary.</span></span></span>
		<ul style="list-style-type:circle">
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>vCenterWebConsoleLocale</b>: Language in which vCenter VM web console is displayed to the user. Refer to the vCenter product documentation for a list of valid locales. By default, en_US is used.</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>vCenterWebConsolePort</b>: vCenter VM web console port. Default port number is 9443. Work with your vCenter administrator to know correct web console port number for your vCenter environment.</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>vCenterWebConsolePowershellHost</b>: If Windows RAS is also used as the PowerShell host, set this value to localhost. If a different PowerShell host is used, set either fully qualified domain name of the PowerShell host or IP address of the PowerShell host.</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>vCenterWebConsoleScriptPath</b>: Absolute path to the “Get-VMWebConsoleURL.ps1” PowerShell script on PowerShell host.</span></span></span><br>
			<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">&nbsp;<img id="Picture_x0020_6" src="/mediawiki/images/pn_images/pn_image_5ec8452363b246.42519385.png" style="width:468pt; height:77.25pt"> </span></span></span></li>
		</ul>
		</li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Enter login credentials for the PowerShell windows system using “vCenterWebConsolePSCred” system account.</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_7" src="/mediawiki/images/pn_images/pn_image_5ec84523968402.93761193.png" style="width:468pt; height:110.25pt"> </span></span></span></li>
	</ul>
	</li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Map the OO flow output field “VM Web Console URL” to HCM objects.</span></span></span>
	<ul>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Login to the HCM Service Management console with admin privileges.</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Navigate to the Resource Offering Lifecycle of the service that deploys vCenter virtual machines.&nbsp; &nbsp;</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Edit actions to define flow mappings for the identified flows that deploy a virtual machine. In the screenshot below, “vCenter Deploy VM” flow deploys virtual machine.</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_10" src="/mediawiki/images/pn_images/pn_image_5ec84523d8e744.01733625.png" style="width:299.25pt; height:193.5pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">In the sample screenshot below, the “vCenter Deploy VM” OO flow output “VM Web Console URL” has been mapped to the HCM resource offering property “VM Web Console URL”</span></span></span><br>
		<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_23" src="/mediawiki/images/pn_images/pn_image_5ec84524257126.37451648.png" style="width:309pt; height:219.75pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Navigate to the Resource Offering User Operations of the service that deploys vCenter virtual machines.&nbsp;&nbsp; Click Add.</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_24" src="/mediawiki/images/pn_images/pn_image_5ec84524537947.38882478.png" style="width:417.75pt; height:117pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Navigate and Select “vCenter Update VM Web Console URL” OO flow. Click Next.</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_25" src="/mediawiki/images/pn_images/pn_image_5ec845249380e5.14994443.png" style="width:294.75pt; height:208.5pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Change display name to “Update VM Web Console URL”. Click Next.</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_26" src="/mediawiki/images/pn_images/pn_image_5ec84524d35445.05062618.png" style="width:322.5pt; height:230.25pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Map input and output parameters as shown in the following screenshot. Click Finish.</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_27" src="/mediawiki/images/pn_images/pn_image_5ec84525111c06.56581992.png" style="width:300.75pt; height:213.75pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Unpublish the service design or create a new version of service design that deploys virtual machine.</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">On the server component, create a new field with the following details:</span></span></span>
		<ul style="list-style-type:circle">
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Type: String</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Name: vmWebConsoleURL</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Display Name: VM Web Console URL</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Consumer Visible: Checked</span></span></span></li>
			<li style="margin-left:24px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Deploy settings -&gt; Visible: Unchecked</span></span></span></li>
		</ul>
		</li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Map the resource offering property “VM Web Console URL” to the server component property “VM Web Console URL”</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_29" src="/mediawiki/images/pn_images/pn_image_5ec8452550b771.34232520.png" style="width:357.75pt; height:265.5pt"> </span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Save and publish service design.</span></span></span></li>
		<li style="margin-left:16px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Publish offering using modified service design.</span></span></span></li>
	</ul>
	</li>
</ol>
<br>
<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><b>Use VM Web Console URL from end user portal</b></span></span></span>

<ol>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Deploy a new virtual machine in HCM Marketplace Portal. </span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">The following screenshot shows a deployed virtual machine with its VM Web Console URL. The value next to the VM Web Console URL field is a clickable link. Hover over the value and it displays as a clickable URL. Click on the URL.</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">&nbsp;<img id="Picture_x0020_30" src="/mediawiki/images/pn_images/pn_image_5ec84525b627b3.51473688.jpeg" style="width:322.5pt; height:287.25pt"> </span></span></span></li>
	<br>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">The VMWare vCenter login page is displayed. Login either using windows authentication or using credentials provided by the vCenter administrator.&nbsp; </span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_1" src="/mediawiki/images/pn_images/pn_image_5ec84526035ad7.96017845.png" style="width:278.25pt; height:186.75pt"> </span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">After successful authentication, vmWare web console for the virtual machine is displayed. The end user is shown the VM web console only. The end user is not displayed full vSphere web client.</span></span></span> <span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_31" src="/mediawiki/images/pn_images/pn_image_5ec8452645a997.47728761.png" style="width:468pt; height:182.25pt"> </span></span></span></li>
	<li style="margin-left:8px"><span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif">Launch user action “Update VM Web Console URL” on the deployed VM to get a new VM web console URL. This action is necessary if VM name changes or vCenter certificate expires or web console URL fails to launch vCenter console. </span></span></span><br>
	<span style="font-size:11pt"><span style="line-height:107%"><span style="font-family:&quot;Calibri&quot;,sans-serif"><img id="Picture_x0020_8" src="/mediawiki/images/pn_images/pn_image_5ec84526985878.13318926.png" style="width:324.75pt; height:221.25pt"> </span></span></span></li>
</ol>
&nbsp;</html>