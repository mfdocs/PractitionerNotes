<div class="f14 metric" style="color:#656668;display:flex;"><img src="/assets/images/calendar.png" style="height:12px;margin-top:auto;margin-bottom:auto;"><span class="updateDate">&nbsp; Updated on 10/12/2018</span> &nbsp;&nbsp;&nbsp;&nbsp; | &nbsp;&nbsp;&nbsp;&nbsp; <img src="/assets/images/updated.png" style="height:12px;margin-top:auto;margin-bottom:auto;"><span class="readTime">&nbsp; 15 minutes to read</span>&nbsp;&nbsp;&nbsp;&nbsp;</div><br><div class="mw-parser-output"><p>This topic provides information to Integrate Containerized OpsBridge Suite and APM 9.50.
To begin with the integration make appropriate selections in the <a target="1" rel="nofollow" class="external text" href="https://docs.microfocus.com/OMi/10.70/OBM_Integrations_Guide/Content/Integrations.htm#">Integrations Guide for OBM</a> for your integration, in this case APM and BSM, RTSM and APM 9.40. (The integration of 9.50 may be completed by selecting 9.40).
</p><p>It is not the purpose of this document to replace the <a target="1" rel="nofollow" class="external text" href="https://docs.microfocus.com/OMi/10.70/OBM_Integrations_Guide/Content/Integrations.htm#">Integrations Guide for OBM</a> documentation, but to enhance it where possible with tips and tricks. More information on the integration may be found in the <a target="1" rel="nofollow" class="external text" href="https://softwaresupport.softwaregrp.com/web/softwaresupport/document/-/facetsearch/document/KM01695512">Integrations Catalog</a>.
Each instance of the APM Integration is represented in OBM as a connected server. If you are integrating multiple APMs, each one will be a separate connected server.
</p>
<div id="toc" class="toc"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#APM_-_OBM_Integration_Process_Overview"><span class="tocnumber">1</span> <span class="toctext">APM - OBM Integration Process Overview</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Step_1._Install_the_Data_Flow_Probe:"><span class="tocnumber">1.1</span> <span class="toctext">Step 1. Install the Data Flow Probe:</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Step_2._Configure_LWSSO:"><span class="tocnumber">1.2</span> <span class="toctext">Step 2. Configure LWSSO:</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Step_3._.5BOptional.5D:"><span class="tocnumber">1.3</span> <span class="toctext">Step 3. [Optional]:</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Step_4._Set_up_an_APM_Connected_Server_in_OBM:"><span class="tocnumber">1.4</span> <span class="toctext">Step 4. Set up an APM Connected Server in OBM:</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Step_5._Enable_Alert_and_Status_Forwarding"><span class="tocnumber">1.5</span> <span class="toctext">Step 5. Enable Alert and Status Forwarding</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Step_6._Create_OBM_authentication_user_name_and_password"><span class="tocnumber">1.6</span> <span class="toctext">Step 6. Create OBM authentication user name and password</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Step_7._Importing_Certificates_for_REST_Service"><span class="tocnumber">1.7</span> <span class="toctext">Step 7. Importing Certificates for REST Service</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Step_8_-_Optional_-_Perform_the_steps_as_documented_in_Integrations_Guide_for_OBM_if_preferred"><span class="tocnumber">1.8</span> <span class="toctext">Step 8 - Optional - Perform the steps as documented in&nbsp;Integrations Guide for OBM if preferred</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Step_9_-_Perform_the_steps_as_documented_in_Integrations_Guide_for_OBM"><span class="tocnumber">1.9</span> <span class="toctext">Step 9 - Perform the steps as documented in Integrations Guide for OBM</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Step_10_-_Optional"><span class="tocnumber">1.10</span> <span class="toctext">Step 10 - Optional</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Step_11_-_Optional"><span class="tocnumber">1.11</span> <span class="toctext">Step 11 - Optional</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Troubleshooting"><span class="tocnumber">2</span> <span class="toctext">Troubleshooting</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="https://staging.docs.microfocus.com/itom/Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM#Related_topics"><span class="tocnumber">3</span> <span class="toctext">Related topics</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="APM_-_OBM_Integration_Process_Overview">APM - OBM Integration Process Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=1" class="mw-editsection-visualeditor" title="Edit section: APM - OBM Integration Process Overview">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=1" title="Edit section: APM - OBM Integration Process Overview">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<ol><li>Topology Sync – Pull from APM to OBM</li>
<li>Status Change Alerts – APM sends status change alerts to OBM</li>
<li>Initial Status Sync – OBM receives the status of each CI in APM</li>
<li>Downtime Sync – Downtime defined in OBM will apply to APM</li></ol>
<h3><span class="mw-headline" id="Step_1._Install_the_Data_Flow_Probe:">Step 1. Install the Data Flow Probe:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=2" class="mw-editsection-visualeditor" title="Edit section: Step 1. Install the Data Flow Probe:">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=2" title="Edit section: Step 1. Install the Data Flow Probe:">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Integration with the Container Deployment Foundation (CDF) suites has different requirements from the classic version of the same suite. This document will provide the steps required for integrating a Data Flow Probe with the OpsBridge Suite CDF.
</p><p>More information is available in  <a target="1" rel="nofollow" class="external text" href="https://docs.microfocus.com/itom/Operations_Bridge_Manager:2018.05.001/OMi_DFP_Install">Installing a Data Flow Probe</a> topic provides step-by-step instructions to install, update, start, and manage the Data Flow Probe (DFP), given the understanding that it was written for the classic versions, not the CDF versions. This document was created following the flow of that guide.
</p><p>While following the steps in <a target="1" rel="nofollow" class="external text" href="https://docs.microfocus.com/itom/Operations_Bridge_Manager:2018.05.001/OMi_DFP_Install">Installing a Data Flow Probe</a> topic, after importing the certificate into the DFP keystore, a prompt appears for a password, the password is <b>changeit</b>.
</p><p>You may use this consolidated document for the integration of the DFP and to complete the integration of APM 9.40/9.50 with OpsBridge Suite.
</p><p><b>Compare UCMDB version to DFP version:</b>
The version of the DFP must be the same as the UCMDB version. Depending on the deployment, go the following locations to verify the existing UCMDB version:
</p>
<ul><li><code>kubectl get pods -n opsbridge1 | grep ucmdb</code></li>
<li><code>kubectl describe pod &lt;ucmdb pod name&gt; -n &lt;opsbridge namespace&gt; | grep itom-cmdb-server</code></li></ul>
<p><br>
<b>Installation Summary:</b>
</p>
<ol><li>Download the installation files.</li>
<li>Enable internal secure communication in OBM (already done for CDF Installations).</li>
<li>Install the DFP.</li>
<li>Update an existing DFP installation.</li>
<li>Start the DFP.</li></ol>
<p><b>Download the installation files</b>
</p><p>The .zip file contains installation files for Linux and Windows:
</p><p><b>Linux</b>: <code>Software/Linux/UCMDB_DataFlowProbe_11.10.105.bin</code>
</p><p><b>Windows</b>: <code>Software\Windows\UCMDB_DataFlowProbe_11.10.105.exe</code>
</p><p><b>Install the Data Flow Probe</b>
</p><p>See the <a target="1" rel="nofollow" class="external text" href="https://docs.microfocus.com/itom/Operations_Bridge_Manager:2018.05.001/OMi_DFP_Install">Installing a Data Flow Probe</a> topic to perform the steps.
</p><p><b>Note:</b>To install the DFP on Red Hat Linux 7, first create a symbolic link from <code>libsasl2.so.3.0.0</code> to <code>libsasl2.so.2</code> before installing the Data Flow Probe (the same instructions apply for CentOS 7 and Oracle Enterprise Linux 7).
</p><p>For example:
<code>cd /usr/lib64/</code>
</p><p><code>ln -s ./libsasl2.so.3.0.0 ./libsasl2.so.2</code>
</p><p>Execute the installation file depending on the operating system (GUI is required):
</p><p><b>Linux</b>: <code>Software/Linux/UCMDB_DataFlowProbe_11.10.105.bin</code>
</p><p><b>Windows</b>: <code>Software\Windows\UCMDB_DataFlowProbe_11.10.105.exe</code>
</p><p>Follow the prompts on the screen to complete the installation.
</p><p><b>Note:</b>The password that you specify during DFP installation must contain 8 to 16 characters and must include at least one of each of the following four types of characters:
</p>
<ul><li>Uppercase alphabetic characters</li>
<li>Lowercase alphabetic characters</li>
<li>Numeric characters</li>
<li>Special characters:&nbsp;: / . _ [ ] + -</li></ul>
<p><br>
<b>On Linux only</b>
</p><p>After the installation, perform these steps on Linux only:
</p>
<ol><li>Edit the <code>&lt;Data Flow Probe install folder&gt;/conf/DataFlowProbe.properties</code> file.</li>
<li>Change the <code>appilog.agent.probe.integrationsOnlyProbe</code> parameter to false: <code>appilog.agent.probe.integrationsOnlyProbe = false</code></li>
<li>Validate some other settings as the CDF version of OBM is configured for HTTPS:
<ul><li>set the <code>appilog.agent.probe.protocol</code> value to HTTPS.</li>
<li>set the <code>serverPortHttps = 443</code></li></ul></li></ol>
<p><b>Import the corresponding certificates to the Java keystore of the Data Flow Probe</b>
</p><p>All CDF suites have TLS enabled, and the certificate import process is different than with a “classic version” of the suite. When using a DFP with Containerized OpsBridge Suite, you will need to import the certificate from nginx, which runs on the &lt;External Access Host&gt;, instead of the OBM system. The nginx web server does the SSL termination from outside into the CDF. This is because most external communication into the CDF cluster begins with the &lt;External Access Host&gt; instead of directly communicating with OBM.
</p><p>The certificate must be imported from the CDF Management Portal’s web server. While there are a few ways to do this, following two scripts helps in certificate import. The first is to be run on the &lt;External_Access_Host&gt; to export the cert, and the second is to be run on the DFP node to import the certificate.
</p><p><b>Export the certificate from the nginx web server on the &lt;External_Access_Host&gt;</b>
</p><p>Log on as the root user to execute the following scripts:
</p><p><code>echo | openssl s_client -showcerts -servername &lt;External_Access_Host_FQDN&gt; -connect &lt;External_Access_Host_FQDN&gt;:443 2&gt;/dev/null | sed -n '/-----BEGIN CERTIFICATE-----/,/-----END CERTIFICATE-----/p' &gt; /root/certificate.pem</code>
</p><p><b>Convert the file into the .der format</b>:
<code>openssl x509 -outform der -in certificate.pem -out certificate.der</code>
</p><p><b>Copy the certificate to the DFP Node</b>:
<code>scp /root/certificate.der &lt;DFP Node&gt;:/tmp</code>
</p><p><b>Import the Certificate into the JRE’s trust store on the DFP Node</b>:
</p><p>From a command prompt on the DFP system import the certificate using the following command:
</p>
<ol><li>The &lt;CA cert&gt;.der file is the file just exported from the openssl script above.</li>
<li>The &lt;ca cert alias&gt; is a name you will create to identify this certificate.</li></ol>
<p><code>&lt;Data Flow Probe install folder&gt;/bin/jre/bin/keytool -import -trustcacerts -file &lt;CA cert&gt;.der -alias &lt;ca cert alias&gt; -keystore &lt;Data Flow Probe install folder&gt;/bin/jre/lib/security/cacerts</code>
</p><p>When prompted for the password, enter the default password: changeit
</p><p><b>Start the Data Flow Probe</b>:
</p><p>Linux: <code>&lt;Data Flow Probe install folder&gt;/ProbeGateway.sh console</code>
</p><p>Windows: <code>&lt;Data Flow Probe install folder&gt;\bin\gateway.bat console</code>
</p><p>Other arguments for ProbeGateway are start and stop. The console argument provides diagnostic output and is especially useful for the first startup.
</p><p>The following section provides Data Flow Probe integration steps specific to the APM integration. 
</p><p><b>Import the APM server certificate into the DFP’s JRE’s trust store</b>:
</p><p><code>openssl s_client -showcerts -servername &lt;FQDN_APM_Gateway&gt; -connect &lt;FQDN_APM_Gateway&gt;:443</code>
</p><p>From the command output, copy the content beginning with -----BEGIN CERTIFICATE until END CERTIFICATE----- and copy it into a file. Save the file with the name <code>certificate.pem</code>.
</p><p>Convert the file into the <code>.der</code> format: <code>openssl x509 -outform der -in certificate.pem -out certificate.der</code>
</p><p>Import the APM certificate into JRE's trust store: <code>&lt;Data Flow Probe install folder&gt;/bin/jre/bin/keytool -import -trustcacerts -file certificate.pem -alias &lt;nginx CA cert alias&gt; -keystore &lt;Data Flow Probe install folder&gt;/bin/jre/lib/security/cacerts</code>
</p><p><b>Import the APM certificate into the OBM container</b>
</p><p>Execute the following commands:
<code>kubectl exec omi-0 -c omi -n opsbridge1 -ti bash</code>
</p><p><code>&lt;OBM_Home&gt;/JRE/bin/keytool -import -trustcacerts -file &lt;APM CA cert&gt;.pem -alias &lt;APM CA cert&gt; -keystore /opt/HP/BSM/JRE/lib/security/cacerts</code>
</p><p>Restart the containerized OBM by executing the command: <code>kubectl delete pod omi-0 -n opsbridge1</code>.
</p><p>If OBM is configured for HA, import the APM cert into the omi-1 instance with the same steps.
</p><p>Copy the cert to the DFP server and import it.
</p><p>Import the certificate by running the command: <code>&lt;Data Flow Probe install folder&gt;/bin/jre/bin/keytool -import -trustcacerts -keystore &lt;Data Flow Probe install folder&gt;/bin/jre/lib/security/cacerts -storepass changeit -alias ANYCERTID -file &lt;location of file&gt;</code>
</p><p>The <code>&lt;Data Flow Probe install folder&gt;</code> is <code>/opt/UCMDB/DataFlowProbe</code>
</p><p><b>Continue the Integration</b>:
</p><p><a onclick="javascript:loadingImage(this);" class="image"><img alt="OpsB 2018.11 IntgOpsBAPM.jpg" src="/mediawiki/images/6/64/OpsB_2018.11_IntgOpsBAPM.jpg" width="978" height="982" data-file-width="978" data-file-height="982"></a>
</p>
<h3><span class="mw-headline" id="Step_2._Configure_LWSSO:">Step 2. Configure LWSSO:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=3" class="mw-editsection-visualeditor" title="Edit section: Step 2. Configure LWSSO:">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=3" title="Edit section: Step 2. Configure LWSSO:">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>CDF Suites will be preconfigured with LWSSO out of the box. To configure APM to use the same single sign on, copy the “Initial String” from the CDF Management Portal by selecting <b>ADMINISTRATION &gt; IdM Administration &gt; System Settings &gt; HPSSO Initial String</b>. Copy the init string and use it to configure the LWSSO in APM.
<a onclick="javascript:loadingImage(this);" class="image"><img alt="OpsB 2018.08 IntgOpsBAPM2.jpg" src="/mediawiki/images/8/89/OpsB_2018.08_IntgOpsBAPM2.jpg" width="904" height="315" data-file-width="904" data-file-height="315"></a>
</p><p><br>
</p>
<ul><li>Click the <b>System Settings</b> tab</li>
<li>Click <b>Initial String</b></li>
<li>Click <b>Show Value</b> to see and copy the initial string. <br><a onclick="javascript:loadingImage(this);" class="image"><img alt="OpsB 2018.08 showvalue.jpg" src="/mediawiki/images/d/df/OpsB_2018.08_showvalue.jpg" width="326" height="183" data-file-width="326" data-file-height="183"></a></li></ul>
<h3><span id="Step_3._[Optional]:"></span><span class="mw-headline" id="Step_3._.5BOptional.5D:">Step 3. [Optional]:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=4" class="mw-editsection-visualeditor" title="Edit section: Step 3. [Optional]:">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=4" title="Edit section: Step 3. [Optional]:">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Note</b>: Steps 5, 6 and 7 should be completed before the OBM to APM Setup section of the Connected Server Configuration in Step 4.
</p>
<h3><span class="mw-headline" id="Step_4._Set_up_an_APM_Connected_Server_in_OBM:">Step 4. Set up an APM Connected Server in OBM:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=5" class="mw-editsection-visualeditor" title="Edit section: Step 4. Set up an APM Connected Server in OBM:">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=5" title="Edit section: Step 4. Set up an APM Connected Server in OBM:">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Perform these steps to configure the connected server and ensure to click the <b>Save</b> button between each step:
</p>
<ul><li>Complete the “General” and “Server Properties” section.</li>
<li>Clear “Enable sending event updates to the APM server”.</li>
<li>Clear any check-boxes in the Synchronization section, and click <b>Save</b>.</li></ul>
<p><br>
<b>Step A: Topology</b>
</p><p>Provide the DFB configuration, and click <b>Save</b>.
</p><p><br>
<b>Step B: OBM to APM Setup</b>
</p><p>The OBM to APM setup will require the following before completing Step B of the Connected Server configuration.
</p>
<ul><li>Clear Topology check-box.</li>
<li>Install policy before step B in the connected server (see Step 5)</li>
<li>Configure OBM authentication username and password (see Step 6)</li>
<li>Import certs from [OBM containers] into APM before Step B (see Step 7)</li>
<li>Delete OBM container to restart after cert import.</li></ul>
<p><br>
<b>Step C: Synchronization</b>
</p>
<ul><li>Clear OBM to APM Setup check-box.</li>
<li>Select <b>Synchronize Downtime</b> check-box.</li>
<li>Click Save.</li></ul>
<h3><span class="mw-headline" id="Step_5._Enable_Alert_and_Status_Forwarding">Step 5. Enable Alert and Status Forwarding</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=6" class="mw-editsection-visualeditor" title="Edit section: Step 5. Enable Alert and Status Forwarding">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=6" title="Edit section: Step 5. Enable Alert and Status Forwarding">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Perform the steps as documented in <a target="1" rel="nofollow" class="external text" href="https://docs.microfocus.com/OMi/10.70/OBM_Integrations_Guide/Content/Integrations.htm#">Integrations Guide for OBM</a>, except in containerized environment, select the OMi-0 and (for HA) OMi-1 CIs for deployment.
</p>
<h3><span class="mw-headline" id="Step_6._Create_OBM_authentication_user_name_and_password">Step 6. Create OBM authentication user name and password</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=7" class="mw-editsection-visualeditor" title="Edit section: Step 6. Create OBM authentication user name and password">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=7" title="Edit section: Step 6. Create OBM authentication user name and password">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Perform the steps as documented in <a target="1" rel="nofollow" class="external text" href="https://docs.microfocus.com/OMi/10.70/OBM_Integrations_Guide/Content/Integrations.htm#">Integrations Guide for OBM</a>, except for “step b” run ovc -stop and then ovc -start instead of ovc -status. The ovc -status command may be run after the start command.
</p>
<h3><span class="mw-headline" id="Step_7._Importing_Certificates_for_REST_Service">Step 7. Importing Certificates for REST Service</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=8" class="mw-editsection-visualeditor" title="Edit section: Step 7. Importing Certificates for REST Service">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=8" title="Edit section: Step 7. Importing Certificates for REST Service">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The REST Service uses port 30005 for communication. Use the netstat command to check for port 30005 to be open on the &lt;External_Access_Host&gt;.
</p><p><code># netstat -an | grep 30005</code>
</p><p><code>tcp6     0     0&nbsp;:::30005    :::*    LISTEN</code>
</p><p><code>#</code>
</p><p>If it is not listening, run the following script on the &lt;External_Access_Host&gt; to open the port. (Needed to open port 30005 on the &lt;External_Access_Host&gt;)
</p>
<pre>echo -n "apiVersion: v1
kind: Service
metadata:
&nbsp; labels:
&nbsp; &nbsp; app: restapi-access
&nbsp; name: restapi-access
&nbsp; namespace: opsbridge1
spec:
&nbsp; ports:
&nbsp; - name: restapi-connect
&nbsp; &nbsp; nodePort: 30005
&nbsp; &nbsp; port: 30005
&nbsp; &nbsp; protocol: TCP
&nbsp; &nbsp; targetPort: 30005
&nbsp; selector:
&nbsp; &nbsp; app: omi
&nbsp; sessionAffinity: ClientIP
&nbsp; type: NodePort
status:
&nbsp; loadBalancer: {}
" | kubectl create -f -</pre>
<p><b>Import the Certificates for REST Service</b>
</p><p>On one of the OBM gateway servers where the policy was deployed, list the OBM certificates for the REST service, by entering ovcert -list in a command prompt.
</p><p>Export the certificate by using the command: <code>ovcert -exporttrusted -file &lt;location of file&gt; -alias &lt;trusted certificate name&gt;</code>
</p><p>For example: <code>ovcert -exporttrusted -file c:\trust.pem -alias CA_c37b8bd5-5b9b-4626-be18-c78ef76040e5_2048</code>
</p><p>where, <code>c:\trust.pem</code> is the location for the file which will be exported.
</p><p><code>CA_&lt;UUID&gt;_2048</code> is the CA certificate of OBM (where &lt;UUID&gt; is the ID retrieved when using the ovcoreid -ovrg server command).
</p><p>Import the OBM certificate by running the following command from the <code>&lt;APM_Home&gt;/JRE64/bin</code> folder on the APM gateway and data processing servers:
</p><p><code>&lt;APM_Home&gt;/JRE64/bin/keytool -import -trustcacerts -keystore &lt;APM_Home&gt;/JRE64/lib/security/cacerts -storepass changeit -alias ANYCERTID -file &lt;location of file&gt;</code>
</p><p>Restart the APM server on both the gateway and data processing server.
</p>
<h3><span class="mw-headline" id="Step_8_-_Optional_-_Perform_the_steps_as_documented_in_Integrations_Guide_for_OBM_if_preferred">Step 8 - Optional - Perform the steps as documented in&nbsp;<a target="1" rel="nofollow" class="external text" href="https://docs.microfocus.com/OMi/10.70/OBM_Integrations_Guide/Content/Integrations.htm#">Integrations Guide for OBM</a> if preferred</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=9" class="mw-editsection-visualeditor" title="Edit section: Step 8 - Optional - Perform the steps as documented in&nbsp;Integrations Guide for OBM if preferred">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=9" title="Edit section: Step 8 - Optional - Perform the steps as documented in&nbsp;Integrations Guide for OBM if preferred">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<h3><span class="mw-headline" id="Step_9_-_Perform_the_steps_as_documented_in_Integrations_Guide_for_OBM">Step 9 - Perform the steps as documented in <a target="1" rel="nofollow" class="external text" href="https://docs.microfocus.com/OMi/10.70/OBM_Integrations_Guide/Content/Integrations.htm#">Integrations Guide for OBM</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=10" class="mw-editsection-visualeditor" title="Edit section: Step 9 - Perform the steps as documented in Integrations Guide for OBM">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=10" title="Edit section: Step 9 - Perform the steps as documented in Integrations Guide for OBM">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<h3><span class="mw-headline" id="Step_10_-_Optional">Step 10 - Optional</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=11" class="mw-editsection-visualeditor" title="Edit section: Step 10 - Optional">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=11" title="Edit section: Step 10 - Optional">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<h3><span class="mw-headline" id="Step_11_-_Optional">Step 11 - Optional</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=12" class="mw-editsection-visualeditor" title="Edit section: Step 11 - Optional">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=12" title="Edit section: Step 11 - Optional">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=13" class="mw-editsection-visualeditor" title="Edit section: Troubleshooting">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=13" title="Edit section: Troubleshooting">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>Issue</b>: If the APM component gallery looks like the following image without the thumbnail graphics after the Integration:
</p><p><a onclick="javascript:loadingImage(this);" class="image"><img alt="OpsB 2018.08 IntgTSG.jpg" src="/mediawiki/images/3/31/OpsB_2018.08_IntgTSG.jpg" width="644" height="513" data-file-width="644" data-file-height="513"></a>
</p><p>OR if the error appears in web browser <i>Content was blocked because it was not signed by a valid security certificate</i>
</p><p><b>Resolution</b>: Import the APM certificate into your browser.
</p><p><br>
</p>
<h2><span class="mw-headline" id="Related_topics">Related topics</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;veaction=edit&amp;section=14" class="mw-editsection-visualeditor" title="Edit section: Related topics">edit</a><span class="mw-editsection-divider"> | </span><a href="/mediawiki/index.php?title=Operations_Bridge:2018.11/Practitioner_notes/Intg_OpsB_APM&amp;action=edit&amp;section=14" title="Edit section: Related topics">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a target="1" rel="nofollow" class="external text" href="https://docs.microfocus.com/OMi/10.70/OBM_Integrations_Guide/Content/Integrations.htm#">Integrations Guide for OBM</a>
</p><p><a target="1" rel="nofollow" class="external text" href="https://softwaresupport.softwaregrp.com/web/softwaresupport/document/-/facetsearch/document/KM01695512">Integrations Catalog</a>
</p><p><a target="1" rel="nofollow" class="external text" href="https://docs.microfocus.com/itom/Operations_Bridge_Manager:2018.05.001/OMi_DFP_Install">Installing a Data Flow Probe</a>
</p><p><br>
</p>
<!-- 
NewPP limit report
Cached time: 20190524095220
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.032 seconds
Real time usage: 0.063 seconds
Preprocessor visited node count: 66/1000000
Preprocessor generated node count: 90/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 398/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key docops_wiki:pcache:idhash:285537-0!canonical and timestamp 20190524095220 and revision id 875290
 -->
</div>