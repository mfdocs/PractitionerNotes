<h2>Overview</h2>

<p>Operational Discovery has been introduced to make it more clear what customers are entitled to as part of their OpsBridge License and the Additional License Authorizations (ALA). Operational Discovery is part of Operations Bridge Ultimate V3 license starting from the 2018.05 release.</p>

<p>Operational Discovery is a hybrid form of discovery that meets the needs of tools such as Operations Bridge. Operational Discovery provides the ability to discover dependency information, but does not provide for Inventory discovery or any type of discovery that is related to the audit process (i.e. Oracle LMS). Operational Discovery and the upgrade path to Advanced Discovery eliminates the need for the “UD Add-On” capability.</p>

<p>The Unit Ratio for Operational discovery of servers is the same as Basic discovery as shown in the following table:</p>

<table style="width:961.458px">
	<tbody>
		<tr>
			<th style="text-align:inherit">Discovery Type</th>
			<th style="text-align:inherit">Servers</th>
			<th style="text-align:inherit">Workstations</th>
			<th style="text-align:inherit">Network</th>
			<th style="text-align:inherit">Storage</th>
			<th style="text-align:inherit">Containers</th>
		</tr>
		<tr>
			<td>Advanced</td>
			<td>1</td>
			<td>0.1</td>
			<td>0.1</td>
			<td>0.1</td>
			<td>0.1</td>
		</tr>
		<tr>
			<td>Basic</td>
			<td>0.2</td>
			<td>0.1</td>
			<td>0.1</td>
			<td>0.1</td>
			<td>0.1</td>
		</tr>
		<tr>
			<td>Operational</td>
			<td>0.2</td>
			<td>0.1</td>
			<td>0.1</td>
			<td>0.1</td>
			<td>0.1</td>
		</tr>
	</tbody>
</table>

<p>The content discovered is different for Operational discovery of servers as shown in the following table:</p>

<table style="width:961.458px">
	<tbody>
		<tr>
			<th style="text-align:inherit">Discovery Type</th>
			<th style="text-align:inherit">Inventory</th>
			<th style="text-align:inherit">Dependencies</th>
			<th style="text-align:inherit">Oracle LMS</th>
			<th style="text-align:inherit">Attributes</th>
		</tr>
		<tr>
			<td>Advanced</td>
			<td>Yes</td>
			<td>Yes</td>
			<td>Yes</td>
			<td>Full</td>
		</tr>
		<tr>
			<td>Basic</td>
			<td>Yes</td>
			<td>No</td>
			<td>No</td>
			<td>Full</td>
		</tr>
		<tr>
			<td>Operational</td>
			<td>No</td>
			<td>Yes</td>
			<td>No</td>
			<td>Partial</td>
		</tr>
	</tbody>
</table>

<p>The only solution as of now that supports the use of Operational Discovery is Operations Bridge Suite Ultimate V3 License Pack. The following table shows the entitlement you will receive based on the different versions of OpsB Ultimate:</p>

<table style="width:961.458px">
	<tbody>
		<tr>
			<th style="text-align:inherit">Operations Bridge Suite versions</th>
			<th style="text-align:inherit">Type of License</th>
			<th style="text-align:inherit">Quantity of Licenses</th>
			<th style="text-align:inherit">Capability</th>
		</tr>
		<tr>
			<td>OpsB 2018.02 and earlier</td>
			<td>UD (Full)</td>
			<td>50</td>
			<td>Full discovery of 50 servers</td>
		</tr>
		<tr>
			<td>OpsB 2018.05 and later</td>
			<td>Units</td>
			<td>10</td>
			<td>Operational discovery of 50 servers</td>
		</tr>
	</tbody>
</table>

<p>In both cases, sufficient license quantities are provided to perform full dependency discovery of 50 servers, even though the form of license has changed.</p>

<p>If you select Operations Bridge Ultimate V3 License in the Software Entitlement Portal, the version of UCMDB in use is identified. If UCMDB 11.x is selected, Units will be provided. If UCMDB 10.x is selected, UD (full) licenses will be provided.</p>

<p>There is no migration process for existing UD Licenses purchased as part of the Operations Bridge Ultimate V3 License Pack. Go to the Software Entitlement Portal and re-issue the existing licenses by selecting UCMDB 11.x as the target type.</p>

<h3>Differences between Types of Discovery</h3>

<table style="width:961.458px">
	<tbody>
		<tr>
			<th style="text-align:inherit">Discovery Capability</th>
			<th style="text-align:inherit">Basic</th>
			<th style="text-align:inherit">Operational</th>
			<th style="text-align:inherit">Advanced</th>
		</tr>
		<tr>
			<td>Discover IPs, Hosts and Host Elements (CPUs, Disk, Users, etc)</td>
			<td>X</td>
			<td>X</td>
			<td>X</td>
		</tr>
		<tr>
			<td>Discover attributes of Hosts, Host Elements and Running Software</td>
			<td>full</td>
			<td>partial</td>
			<td>full</td>
		</tr>
		<tr>
			<td>Discover and manage Installed Software</td>
			<td>X</td>
			<td>&nbsp;</td>
			<td>X</td>
		</tr>
		<tr>
			<td>Utilize Smart Software Analytics</td>
			<td>X</td>
			<td>&nbsp;</td>
			<td>X</td>
		</tr>
		<tr>
			<td>Discover running software, ports and relationships</td>
			<td>&nbsp;</td>
			<td>X</td>
			<td>X</td>
		</tr>
		<tr>
			<td>Discover running software details</td>
			<td>&nbsp;</td>
			<td>partial</td>
			<td>X</td>
		</tr>
		<tr>
			<td>Discover virtualization and cloud</td>
			<td>&nbsp;</td>
			<td>X</td>
			<td>X</td>
		</tr>
		<tr>
			<td>Discover Oracle LMS audit information</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>X</td>
		</tr>
		<tr>
			<td>Consume data from Micro Focus applications</td>
			<td>X</td>
			<td>X</td>
			<td>X</td>
		</tr>
		<tr>
			<td>Consume data from 3rd Party Applications (with MDR)</td>
			<td>X</td>
			<td>X</td>
			<td>X</td>
		</tr>
		<tr>
			<td>Replicate to other UCMDB instances</td>
			<td>X</td>
			<td>X</td>
			<td>X</td>
		</tr>
		<tr>
			<td>Replicate to other Micro Focus applications</td>
			<td>X</td>
			<td>&nbsp;</td>
			<td>X</td>
		</tr>
		<tr>
			<td>Replicate to 3rd Party Applications (with MDR)</td>
			<td>X</td>
			<td>&nbsp;</td>
			<td>X</td>
		</tr>
	</tbody>
</table>

<p>Difference between Basic Discovery, Operational Discovery and Advanced Discovery</p>

<p>Basic Discovery&nbsp;- Discovery results in information that describe the configuration of the server, and the software that is installed and running on that server. This node consumes Basic units.</p>

<p>Operational Discovery&nbsp;- Operational discovery is a hybrid of Basic and Advanced. Most CIs and relationships are still discovered, but there are fewer attributes populated than with Basic or Advanced Discovery. Inventory details, such as Installed Software CIs, and Oracle audit details are not discovered, and the software scanner tool and SSA are not allowed to be run or collect data. CIs that consume an operational unit are allowed to replicate only to other UCMDBs. Discovered nodes must consume a Basic or Advanced unit to be replicated to other downstream applications.</p>

<p>Advanced Discovery&nbsp;- Building upon Operational Discovery, capturing configuration information (full attributes), software inventory (Installed Software), or Oracle LMS details would elevate the server to Advanced discovery. The user only pays for the difference between the Operational unit and the Advanced unit because of the “unit” model. The upgrade is automatic. No customized code is required nor contract changes for licensing.&nbsp;<a href="https://docs.microfocus.com/itomw/File:OpsB_2018.05_Discoverytypes.PNG"><img alt="OpsB 2018.05 Discoverytypes.PNG" src="https://docs.microfocus.com/mediawiki/images/e/e9/OpsB_2018.05_Discoverytypes.PNG" style="height:auto; margin:20px 0px; width:auto"></a></p>

<h2>Set up Operational Discovery</h2>

<p>The following image describes how to set up the Operational Discovery.&nbsp;<a href="https://docs.microfocus.com/itomw/File:OpsB_2018.05_OpsDiscovery.PNG"><img alt="OpsB 2018.05 OpsDiscovery.PNG" src="https://docs.microfocus.com/mediawiki/images/3/31/OpsB_2018.05_OpsDiscovery.PNG" style="height:auto; margin:20px 0px; width:auto"></a>&nbsp;To establish a Shell connection to host machines, activate the job in the Operational Discovery modules. Once the job is activated, it performs the following tasks:</p>

<ol>
	<li>Discovery tries to connect to the remote machine through the SSH and NTCMD protocols until the first valid connection is found.</li>
	<li>The job discovers host type, OS information, and network connectivity information.</li>
	<li>The job discovers resources that exist on a host (for example, Disk, CPU, Users) as well as applications that run on that host. The module also discovers the relationships between the application and the relevant processes, the appropriate services, and the relevant IP Service Endpoint (port).</li>
</ol>

<h3>Trigger Query</h3>

<ul>
	<li>Trigger CI. The IP address.</li>
	<li>Trigger TQL. DFM uses this query to retrieve IPs that do not have Shell or have Shell with the same IP to reconnect.<br>
	<a href="https://docs.microfocus.com/itomw/File:OpsB_2018.05_discovery1.png"><img alt="OpsB 2018.05 discovery1.png" src="https://docs.microfocus.com/mediawiki/images/b/b0/OpsB_2018.05_discovery1.png" style="height:238px; width:358px"></a></li>
	<li>Node conditions:
	<ul style="list-style-type:disc">
		<li>IP Node</li>
	</ul>
	</li>
</ul>

<p>Probe Name Is NOT null (IP Is Broadcast Equal false OR IP Is Broadcast Is NOT null)</p>

<h3>Topology</h3>

<p><a href="https://docs.microfocus.com/itomw/File:OpsB_2018.05_discovery2.png"><img alt="OpsB 2018.05 discovery2.png" src="https://docs.microfocus.com/mediawiki/images/5/5a/OpsB_2018.05_discovery2.png" style="height:auto; margin:20px 0px; width:auto"></a></p>

<h3>Discover Operational Host Discovery by Shell</h3>

<p>Perform the following steps to discover Operational Host Discovery by Shell:</p>

<p>Step 1: Prerequisites</p>

<ol>
	<li>Set up protocol credentials. This discovery uses the following protocols:
	<ul style="list-style-type:disc">
		<li>NTCMD protocol</li>
		<li>SSH protocol</li>
	</ul>
	</li>
	<li>To create IP address before this job, run the job with ‘Range IPs by ICMP’.</li>
</ol>

<p>Step 2: Run the discovery.</p>

<p>Step 3: Adapter Parameters for the Operational Host Discovery by Shell:</p>

<table style="width:961.458px">
	<tbody>
		<tr>
			<th style="text-align:inherit">Parameter</th>
			<th style="text-align:inherit">Description</th>
			<th style="text-align:inherit">Default Values</th>
		</tr>
		<tr>
			<td>useAIXhwid</td>
			<td>To identify IBM AIX machines through their hardware ID. When set to&nbsp;true&nbsp;and used together with SNMP discovery, duplicate hosts may be created. If set to&nbsp;false, no AIX LPAR is discovered.</td>
			<td>Default:&nbsp;false</td>
		</tr>
		<tr>
			<td>useLastSuccessConnection</td>
			<td>To use the last success protocol. When set to&nbsp;true, this job uses the last success connection.</td>
			<td>Default:&nbsp;true</td>
		</tr>
		<tr>
			<td>codepage</td>
			<td>The discovered machine code page.</td>
			<td>Default:&nbsp;NA</td>
		</tr>
		<tr>
			<td>enableStamping</td>
			<td>Determines whether&nbsp;<code>ud_unique_id</code>&nbsp;is stamped on the managed computer or not.</td>
			<td>Default:&nbsp;false</td>
		</tr>
		<tr>
			<td>language</td>
			<td>The language of the discovered machine.</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>onlyStampingClient</td>
			<td>Determines whether to stamp only the client machine or not. If set to false, both data-center and client machine are stamped.</td>
			<td>Default:&nbsp;true</td>
		</tr>
		<tr>
			<td>knownListeningPorts</td>
			<td>Port numbers or port names that should be reported as IP service endpoint (* to report all).</td>
			<td>Default:&nbsp;*</td>
		</tr>
		<tr>
			<td>P2PServerPorts</td>
			<td>Only processes connected to these ports (as client or server) are discovered, together with this port. This parameter can include a number or a known name. Type separate entries with commas. An asterisk (*) signifies all ports.</td>
			<td>Default:&nbsp;*</td>
		</tr>
		<tr>
			<td>wmicPath</td>
			<td>Specifies the location of the&nbsp;<code>wmic.exe</code>&nbsp;utility on Windows.</td>
			<td>Default:&nbsp;<code>%SystemRoot%\system32\wbem\</code></td>
		</tr>
		<tr>
			<td>filterP2PProcessesByName</td>
			<td>The names of the processes that are not reported. To prevent P2P running, enter an asterisk (*) as the value.
			<p>Note: This parameter affects only the P2P discovery.</p>
			</td>
			<td>Default:&nbsp;system, svchost.exe, lsass.exe, System Idle Process.</td>
		</tr>
	</tbody>
</table>

<p>Step 4: Discover CITs</p>

<p>Select a specific adapter in the&nbsp;Resources&nbsp;pane, click&nbsp;Adapter Definition&nbsp;&gt;&nbsp;Discovered CITs. For details, see "Discovered CITs Pane" section "Adapter Definition Tab" topic in the Configuration Management System (CMS) documentation.</p>

<h2>Troubleshooting, Limitations and FAQ</h2>

<p>This section describes troubleshooting and limitations for Host Resources and Applications discovery.</p>

<ul>
	<li>To discover processes and software running on a Solaris machine, verify if&nbsp;<code>/usr/ucb/ps</code>&nbsp;utility is installed on the Solaris machine.</li>
	<li>Discovery of processes that have names with spaces is not supported on UNIX machines.</li>
	<li>Discovery of non-English content brought by ssh.</li>
	<li>Discovery of processes are not supported on VMware ESX servers.</li>
	<li>Discovery of CPUs, disks, and memory are not supported on Mac OS X.</li>
</ul>

<h3>FAQ</h3>

<p>Can I Upgrade to Advanced Discovery?</p>

<p>Yes, it is possible to move to a “mixed mode” where you have the option to discover some servers Operationally and other servers with Advanced discovery.</p>

<table style="width:961.458px">
	<tbody>
		<tr>
			<th style="text-align:inherit">Action</th>
			<th style="text-align:inherit">Response for Action</th>
		</tr>
		<tr>
			<td>Purchase and deploy normal UD units.</td>
			<td>All “greyed-out” jobs are enabled. Operational Discovery job remains enabled.</td>
		</tr>
		<tr>
			<td>Discover, or re-discover a server using a “greyed-out” job.</td>
			<td>All attributes will be discovered and populated. The server will consume an Advanced license. The server will consume 0.8 more units (a total of 1 unit).</td>
		</tr>
		<tr>
			<td>Discover a server (for the first time) using a Basic job.</td>
			<td>The server will consume a Basic unit. All attributes appropriate for the job will be populated.</td>
		</tr>
		<tr>
			<td>Servers still being discovered with Operational Discovery or newly discovered servers with Operational Discovery.</td>
			<td>As long as no “Black-Listed” job runs against a server that was operationally discovered, the server will continue to consume only an Operational Unit.</td>
		</tr>
	</tbody>
</table>

<p>Servers discovered with Operational Discovery, and then re-discovered using Advanced Discovery, will only consume the difference in unit cost between the two discovery methods.</p>

<p>How does Discovery work in Mixed Mode?</p>

<p>When you have both UD units and the Operational Discovery license, the process of discovery slightly changes as shown in the following image:</p>

<p><a href="https://docs.microfocus.com/itomw/File:OpsB_2018.05_MixedDiscovery.PNG"><img alt="OpsB 2018.05 MixedDiscovery.PNG" src="https://docs.microfocus.com/mediawiki/images/a/a9/OpsB_2018.05_MixedDiscovery.PNG" style="height:auto; margin:20px 0px; width:auto"></a></p>

<p>A server can still be discovered using Operational Discovery. However, if any of the “Black-Listed” jobs are run against the server, it switches into normal mode for that server, and that server is charged an Advanced unit from that time forward. This action is not reversible.</p>

<h2>Related topics</h2>

<p><a href="https://docs.microfocus.com/itom/Universal_CMDB:2018.08/dfm/adap_config_ui_adap_defn_tab" target="1">Configuration Management System (CMS)</a></p>
